(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{230:function(e,t,a){e.exports=a.p+"static/media/logo.3867ca4a.png"},254:function(e,t,a){e.exports=a(560)},369:function(e,t,a){},371:function(e,t){e.exports=echarts},381:function(e,t,a){},400:function(e,t,a){},438:function(e,t,a){},440:function(e,t,a){},477:function(e,t,a){},479:function(e,t,a){},482:function(e,t,a){},484:function(e,t,a){},486:function(e,t,a){},488:function(e,t,a){},490:function(e,t,a){},492:function(e,t,a){},494:function(e,t,a){},496:function(e,t,a){},498:function(e,t,a){},500:function(e,t,a){},502:function(e,t,a){},504:function(e,t,a){},506:function(e,t,a){},508:function(e,t,a){},554:function(e,t,a){},560:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"login",function(){return wt}),a.d(n,"logout",function(){return bt});var i={};a.r(i),a.d(i,"getMenu",function(){return Ct});var r=a(0),o=a.n(r),s=a(8),l=a.n(s),c=a(221),m=a.n(c),d=a(222),u=a.n(d),p=a(223),h=a.n(p),f=a(250),y=a(569),g=a(248),E=a(249),v=a.n(E),w=a(19),b=a.n(w),C=(a(265),a(582)),k=a(584),S=a(568),O=a(583),I=a(14),_=a(13),j=a(18),N=a(15),x=a(17),M=a(580),T=a(566),D=a(585),P=a(563),L=a(16),A={home:{key:"/app/home/index",title:"\u6982\u89c8",icon:"area-chart",component:"Home"},system:{key:"/app/system",title:"\u7cfb\u7edf\u7ba1\u7406",icon:"setting",subs:[{key:"/app/system/user",title:"\u7528\u6237\u7ba1\u7406",component:"User",showInMenu:!0},{key:"/app/system/role",title:"\u89d2\u8272\u7ba1\u7406",component:"Role",showInMenu:!0},{key:"/app/system/basic",title:"\u57fa\u7840\u8d44\u6599\u7ef4\u62a4",component:"Basic",showInMenu:!0},{key:"/app/system/file",title:"\u6587\u4ef6\u7ba1\u7406",component:"File",showInMenu:!0},{key:"/app/system/version",title:"APP\u7248\u672c\u7ba1\u7406",component:"Version",showInMenu:!0},{key:"/app/system/plants",title:"\u690d\u7269\u4ea7\u54c1\u540d\u79f0",component:"Plants",showInMenu:!0}]},company:{key:"/app/company",title:"\u4f01\u4e1a\u7ba1\u7406",icon:"home",subs:[{key:"/app/company/companyInfo",title:"\u4f01\u4e1a\u4fe1\u606f\u7ba1\u7406",component:"CompanyInfo",showInMenu:!0},{key:"/app/company/companyDetail",title:"\u4f01\u4e1a\u4fe1\u606f\u8be6\u60c5",component:"CompanyDetail",showInMenu:!1},{key:"/app/company/companyInventory",title:"\u4f01\u4e1a\u5e93\u5b58\u7ba1\u7406",component:"CompanyInventory",showInMenu:!0},{key:"/app/company/inventoryDetail",title:"\u4f01\u4e1a\u5e93\u5b58\u8be6\u60c5",component:"InventoryDetail",showInMenu:!1}]},business:{key:"/app/business",title:"\u4e1a\u52a1\u529e\u7406",icon:"laptop",subs:[{key:"/app/business/cert",title:"\u63d0\u5355\u5f55\u5165\u7ba1\u7406",component:"Cert",showInMenu:!0},{key:"/app/business/plantCert",title:"\u8fd0\u8f93\u8bc1\u4e0e\u68c0\u75ab\u7ba1\u7406",component:"PlantCert",showInMenu:!0}]},inspect:{key:"/app/inspect",title:"\u5ba1\u6838\u8bb0\u5f55",icon:"schedule",subs:[{key:"/app/inspect/check",title:"\u5b9a\u671f\u68c0\u67e5\u8bb0\u5f55",component:"Check",showInMenu:!0},{key:"/app/inspect/quarantine",title:"\u5b9a\u671f\u68c0\u75ab\u8bb0\u5f55",component:"Quarantine",showInMenu:!0}]}},F=P.a.SubMenu,R=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).setDefaultActiveMenuItem=function(){switch(a.props.location.pathname){case"/app/company/companyDetail":return["/app/company/companyInfo"];default:return[a.props.location.pathname]}},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"menuCustom"},o.a.createElement(P.a,{mode:"inline",theme:"dark",selectedKeys:this.setDefaultActiveMenuItem(),defaultOpenKeys:Object.keys(A).map(function(e){return A[e].key})},Object.keys(A).map(function(e){return-1!=window.$session.get("menu").indexOf(e)?A[e].subs?o.a.createElement(F,{title:o.a.createElement("span",null,o.a.createElement(L.a,{type:A[e].icon}),o.a.createElement("span",null,A[e].title)),key:A[e].key},A[e].subs.map(function(e){return e.showInMenu?o.a.createElement(P.a.Item,{key:e.key},o.a.createElement(T.a,{to:e.key,replace:!0},o.a.createElement("span",null,e.title))):null})):o.a.createElement(P.a.Item,{key:A[e].key},o.a.createElement(T.a,{to:A[e].key,replace:!0},o.a.createElement("span",null,o.a.createElement(L.a,{type:A[e].icon}),o.a.createElement("span",null,A[e].title)))):null})))}}]),t}(r.Component),$=Object(D.a)(R),B=a(32),U=a.n(B),V=a(40),z=a(578),q=a(219),G=a(575),J=a(570),K=a(574),W=function(e){function t(){return Object(I.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return o.a.createElement(J.a,null,o.a.createElement(J.a.Item,Object.assign({label:"\u539f\u59cb\u5bc6\u7801"},t),e("oldPwd",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u539f\u59cb\u5bc6\u7801"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u539f\u59cb\u5bc6\u7801"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u65b0\u5bc6\u7801"},t),e("newPwd",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"}]})(o.a.createElement(K.a,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u786e\u8ba4\u65b0\u5bc6\u7801"},t),e("confirmNewPwd",{rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801"}]})(o.a.createElement(K.a,{type:"password",placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801"}))))}}]),t}(r.Component),Q=J.a.create()(W),Y=function(e){function t(){return Object(I.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.form.setFieldsValue({phone:window.$session.get("user").phone})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement(J.a,null,o.a.createElement(J.a.Item,Object.assign({label:"\u624b\u673a\u53f7"},{labelCol:{span:6},wrapperCol:{span:14}}),e("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}))))}}]),t}(r.Component),Z=J.a.create()(Y),H=a(230),X=a.n(H),ee=(a(369),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={changePwdModal:!1,changeUserInfoModal:!1},a.logout=Object(V.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.$service.logout();case 2:a.props.history.push("/login");case 3:case"end":return e.stop()}},e)})),a.toggleChangePwdModal=function(){a.setState({changePwdModal:!a.state.changePwdModal})},a.toggleChangeUserInfoModal=function(){a.setState({changeUserInfoModal:!a.state.changeUserInfoModal})},a.changePwdSubmit=function(){a.changePwdFormRef.props.form.validateFields(function(e,t){if(!e){if(t.newPwd!=t.confirmNewPwd)return void z.a.warn("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165");window.$http({url:"/admin/auth/changePwd",method:"POST",data:{oldPwd:t.oldPwd,newPwd:t.newPwd}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u4fee\u6539\u5bc6\u7801\u6210\u529f"),a.toggleChangePwdModal())})}})},a.changeUserInfoSubmit=function(){a.changeUserInfoFormRef.props.form.validateFields(function(e,t){e||window.$http({url:"/admin/auth/changeUserInfo",method:"POST",data:{phone:t.phone}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u4fee\u6539\u4e2a\u4eba\u4fe1\u606f\u6210\u529f"),window.$session.set("user",e.data.data),a.toggleChangeUserInfoModal())})})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement(P.a,null,o.a.createElement(P.a.Item,null,o.a.createElement("a",{href:"javascript: void(0);",onClick:this.toggleChangeUserInfoModal},"\xa0\xa0\u4fee\u6539\u4e2a\u4eba\u4fe1\u606f\xa0\xa0")),o.a.createElement(P.a.Item,null,o.a.createElement("a",{href:"javascript: void(0);",onClick:this.toggleChangePwdModal},"\xa0\xa0\u4fee\u6539\u5bc6\u7801\xa0\xa0")),o.a.createElement(P.a.Item,null,o.a.createElement("a",{href:"javascript: void(0);",onClick:this.logout},"\xa0\xa0\u9000\u51fa\xa0\xa0")));return o.a.createElement("div",{className:"headerContent"},o.a.createElement("div",{style:{height:49,display:"flex",alignItems:"center"}},o.a.createElement("img",{src:X.a,alt:"",style:{height:35,width:35}}),o.a.createElement("span",{style:{marginLeft:15,color:"#1890ff",fontWeight:600,fontSize:18}},"\u6797\u4e1a\u6709\u5bb3\u751f\u7269\u68c0\u75ab\u4fe1\u606f\u7ba1\u7406\u7cfb\u7edf")),o.a.createElement("div",null,o.a.createElement(q.a,{overlay:t},o.a.createElement("a",{className:"ant-dropdown-link",href:"javascript: void(0);"},window.$session.get("user").username,o.a.createElement(L.a,{type:"down",style:{marginLeft:5}})))),o.a.createElement(G.a,{title:"\u4fee\u6539\u5bc6\u7801",visible:this.state.changePwdModal,maskClosable:!1,destroyOnClose:!0,onOk:this.changePwdSubmit,onCancel:this.toggleChangePwdModal},o.a.createElement(Q,{wrappedComponentRef:function(t){return e.changePwdFormRef=t}})),o.a.createElement(G.a,{title:"\u4fee\u6539\u4e2a\u4eba\u4fe1\u606f",visible:this.state.changeUserInfoModal,maskClosable:!1,destroyOnClose:!0,onOk:this.changeUserInfoSubmit,onCancel:this.toggleChangeUserInfoModal},o.a.createElement(Z,{wrappedComponentRef:function(t){return e.changeUserInfoFormRef=t}})))}}]),t}(r.Component)),te=Object(D.a)(ee),ae=a(232),ne=a.n(ae),ie=a(383),re=a(384),oe=a(579),se=a(576),le=a(220),ce=(a(381),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={chartOption:{legend:{data:["\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u76f4\u63a5\u8bbf\u95ee","\u641c\u7d22\u5f15\u64ce"]},grid:{left:"20",right:"20",bottom:"0",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]},yAxis:{type:"value"},series:[{name:"\u90ae\u4ef6\u8425\u9500",type:"line",stack:"\u603b\u91cf",data:[120,132,101,134,90,230,210]},{name:"\u8054\u76df\u5e7f\u544a",type:"line",stack:"\u603b\u91cf",data:[220,182,191,234,290,330,310]},{name:"\u89c6\u9891\u5e7f\u544a",type:"line",stack:"\u603b\u91cf",data:[150,232,201,154,190,330,410]},{name:"\u76f4\u63a5\u8bbf\u95ee",type:"line",stack:"\u603b\u91cf",data:[320,332,301,334,390,330,320]},{name:"\u641c\u7d22\u5f15\u64ce",type:"line",stack:"\u603b\u91cf",data:[820,932,901,934,1290,1330,1320]}]},currentChart:"1",dashboardData:{companyCount:0,companyRise:0}},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getDashboardData()}},{key:"getDashboardData",value:function(){var e=this;window.$http({url:"/admin/home/getDashboardData",method:"GET"}).then(function(t){t&&0==t.data.code&&e.setState({dashboardData:t.data.data})})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"home"},o.a.createElement(ie.a,{gutter:16},o.a.createElement(re.a,{span:6},o.a.createElement(oe.a,null,o.a.createElement(se.a,{title:"\u5df2\u6ce8\u518c\u4f01\u4e1a\u6570",value:this.state.dashboardData.companyCount}),o.a.createElement(se.a,{value:this.state.dashboardData.companyRise,valueStyle:{fontSize:12},prefix:o.a.createElement("div",null,o.a.createElement("span",null,"\u65e5"),o.a.createElement(L.a,{type:"arrow-up"})),suffix:"%"}))),o.a.createElement(re.a,{span:6},o.a.createElement(oe.a,null,o.a.createElement(se.a,{title:"\u6728\u6750\u8fd0\u8f93\u8bc1\u4e0e\u690d\u7269\u68c0\u75ab\u7533\u8bf7\u6570",value:112893}),o.a.createElement(se.a,{value:112893,valueStyle:{fontSize:12},prefix:o.a.createElement("div",null,o.a.createElement("span",null,"\u65e5"),o.a.createElement(L.a,{type:"arrow-up"})),suffix:"%"}))),o.a.createElement(re.a,{span:6},o.a.createElement(oe.a,null,o.a.createElement(se.a,{title:"\u539f\u6728\u7c7b\u5f00\u8bc1\u7acb\u65b9",value:112893,suffix:"m\xb3"}),o.a.createElement(se.a,{value:112893,valueStyle:{fontSize:12},prefix:o.a.createElement("div",null,o.a.createElement("span",null,"\u65e5"),o.a.createElement(L.a,{type:"arrow-up"})),suffix:"%"}))),o.a.createElement(re.a,{span:6},o.a.createElement(oe.a,null,o.a.createElement(se.a,{title:"\u677f\u6750\u7c7b\u5f00\u8bc1\u7acb\u65b9",value:112893,suffix:"m\xb3"}),o.a.createElement(se.a,{value:112893,valueStyle:{fontSize:12},prefix:o.a.createElement("div",null,o.a.createElement("span",null,"\u65e5"),o.a.createElement(L.a,{type:"arrow-up"})),suffix:"%"})))),o.a.createElement(oe.a,{style:{marginTop:20}},o.a.createElement(le.a.Group,{onChange:function(t){e.setState({currentChart:t.target.value})},value:this.state.currentChart,style:{marginBottom:20}},o.a.createElement(le.a.Button,{value:"1"},"\u65b0\u589e\u4f01\u4e1a\u6570"),o.a.createElement(le.a.Button,{value:"2"},"\u539f\u6728\u7c7b\u5f00\u8bc1\u7acb\u65b9"),o.a.createElement(le.a.Button,{value:"3"},"\u677f\u6750\u7c7b\u5f00\u8bc1\u7acb\u65b9"),o.a.createElement(le.a.Button,{value:"4"},"\u65b0\u5f00\u6728\u6750\u8fd0\u8f93\u8bc1"),o.a.createElement(le.a.Button,{value:"5"},"\u901a\u8fc7\u7387"),o.a.createElement(le.a.Button,{value:"6"},"\u5e73\u5747\u529e\u8bc1\u65f6\u957f")),o.a.createElement(ne.a,{option:this.state.chartOption,style:{height:"calc(100vh - 421px)"}})))}}]),t}(r.Component)),me=a(110),de=a(572),ue=a(562),pe=a(160),he=(a(400),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={page:{current:1,size:10,total:0},tableData:[],search:"",modalTitle:"",userModal:!1,roles:[],currentUser:{}},a.getRoles=function(){window.$http({url:"/admin/system/role/getRolesWithPermission",method:"GET",params:{roleNameZh:""}}).then(function(e){if(e&&0==e.data.code){var t=[],n=!0,i=!1,r=void 0;try{for(var o,s=e.data.data[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;t.push({label:l.nameZh,value:l.id})}}catch(c){i=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}a.setState({roles:t})}})},a.getUserInfo=function(e,t,n){window.$http({url:"/admin/system/user/getUsersWithRole",method:"GET",params:{user:e,pageNum:t,pageSize:n}}).then(function(e){if(e&&0==e.data.code){var t=Object.assign({},a.state.page,{total:e.data.data.pager.total});a.setState({page:t}),a.setState({tableData:e.data.data.result})}})},a.handleSearch=function(e){a.setState({search:e}),a.getUserInfo(e,a.state.page.current,a.state.page.size)},a.changePageNum=function(e){var t=Object.assign({},a.state.page,{current:e});a.setState({page:t}),a.getUserInfo(a.state.search,e,a.state.page.size)},a.changePageSize=function(e,t){var n=Object.assign({},a.state.page,{current:1,size:t});a.setState({page:n}),a.getUserInfo(a.state.search,1,t)},a.toggleUserModal=function(e,t,n){t&&a.setState({modalTitle:t}),n?a.setState({currentBasic:n}):a.setState({currentBasic:{}}),a.setState({userModal:!a.state.userModal},function(){if("\u7f16\u8f91\u7528\u6237"==t){var e=JSON.parse(JSON.stringify(n.role));for(var i in e)e[i]=e[i].id;a.setState({currentUser:n}),a.props.form.setFields({role:{value:e}}),a.props.form.setFields({username:{value:n.username}}),a.props.form.setFields({phone:{value:n.phone}}),a.props.form.setFields({password:{value:"-@_-@_-@_"}})}})},a.delUser=function(e,t){G.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u5220\u9664\u6b64\u7528\u6237\uff1f",okType:"danger",onOk:function(){window.$http({url:"/admin/system/user/delUser",method:"DELETE",data:{id:t}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u5220\u9664\u7528\u6237\u6210\u529f"),a.getUserInfo(a.state.search,1,a.state.page.size))})}})},a.userSubmit=function(){a.props.form.validateFields(function(e,t){e||window.$http({url:"/admin/system/user/".concat("\u65b0\u589e\u7528\u6237"==a.state.modalTitle?"addUser":"editUser"),method:"POST",data:{id:a.state.currentUser.id,username:t.username,password:t.password,phone:t.phone}}).then(function(e){e&&0==e.data.code&&a.editRole(e.data.data instanceof Array?a.state.currentUser.id:e.data.data,t.role).then(function(e){e&&0==e.data.code&&(z.a.success("".concat(a.state.modalTitle,"\u6210\u529f")),a.toggleUserModal(),a.getUserInfo(a.state.search,1,a.state.page.size))})})})},a.editRole=function(e,t){return window.$http({url:"/admin/system/user/editRole4User",method:"POST",data:{uid:e,rid:t}})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getUserInfo(this.state.search,this.state.page.current,this.state.page.size),this.getRoles()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:14}},n=[{title:"id",dataIndex:"id"},{title:"\u7528\u6237\u540d",dataIndex:"username"},{title:"\u89d2\u8272",render:function(e,t){return o.a.createElement("div",null,t.role.map(function(e,t){return o.a.createElement("span",{key:t,style:{marginRight:15}},e.nameZh)}))}},{title:"\u624b\u673a\u53f7",dataIndex:"phone"},{title:"\u64cd\u4f5c",width:200,render:function(t,a){return o.a.createElement("span",null,o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"15px"},onClick:function(t){e.toggleUserModal(t,"\u7f16\u8f91\u7528\u6237",a)}},"\u7f16\u8f91"),o.a.createElement("a",{href:"javascript: void(0);",onClick:function(t){e.delUser(t,a.id)}},"\u5220\u9664"))}}];return o.a.createElement("div",{className:"user"},o.a.createElement("div",{className:"user-header flex-space-between"},o.a.createElement(me.a,{type:"primary",onClick:function(t){e.toggleUserModal(t,"\u65b0\u589e\u7528\u6237")}},"\u65b0\u589e\u7528\u6237"),o.a.createElement("div",{style:{width:300}},o.a.createElement(K.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",onSearch:this.handleSearch,enterButton:!0,allowClear:!0}))),o.a.createElement(de.a,{columns:n,dataSource:this.state.tableData,pagination:!1,bordered:!0,rowKey:function(e){return e.id}}),o.a.createElement(ue.a,{style:{float:"right",marginTop:16,marginBottom:16},showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")},onShowSizeChange:this.changePageSize,total:this.state.page.total,pageSizeOptions:["10","20","50"],onChange:this.changePageNum,current:this.state.page.current}),o.a.createElement(G.a,{title:this.state.modalTitle,visible:this.state.userModal,maskClosable:!1,destroyOnClose:!0,onOk:this.userSubmit,onCancel:this.toggleUserModal},o.a.createElement(J.a,null,o.a.createElement(J.a.Item,Object.assign({label:"\u7528\u6237\u540d"},a),t("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u5bc6\u7801"},a),t("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u624b\u673a\u53f7"},a),t("phone")(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u89d2\u8272"},a),t("role",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u89d2\u8272"}]})(o.a.createElement(pe.a.Group,{options:this.state.roles}))))))}}]),t}(r.Component)),fe=J.a.create()(he),ye=(a(438),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={tableData:[],search:"",modalTitle:"",roleModal:!1,permission:[],currentRole:{}},a.roleSubmit=function(){a.props.form.validateFields(function(e,t){e||window.$http({url:"/admin/system/role/".concat("\u65b0\u589e\u89d2\u8272"==a.state.modalTitle?"addRole":"editRole"),method:"POST",data:{id:a.state.currentRole.id,name:t.name,nameZh:t.nameZh}}).then(function(e){e&&0==e.data.code&&a.editPermission(e.data.data instanceof Array?a.state.currentRole.id:e.data.data,t.permission).then(function(e){e&&0==e.data.code&&(z.a.success("".concat(a.state.modalTitle,"\u6210\u529f")),a.toggleRoleModal(),a.getRoleInfo(a.state.search))})})})},a.editPermission=function(e,t){return window.$http({url:"/admin/system/role/editPermission4Role",method:"POST",data:{pid:t,rid:e}})},a.toggleRoleModal=function(e,t,n){t&&a.setState({modalTitle:t});var i={};n&&(i=JSON.parse(JSON.stringify(n))),n&&(i.permission=i.permission.map(function(e){return e.id})),a.setState({currentRole:i}),a.setState({roleModal:!a.state.roleModal})},a.handleSearch=function(e){a.setState({search:e}),a.getRoleInfo(e)},a.delRole=function(e,t){G.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u5220\u9664\u6b64\u89d2\u8272\uff1f",okType:"danger",onOk:function(){window.$http({url:"/admin/system/role/delRole",method:"DELETE",data:{id:t}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u5220\u9664\u89d2\u8272\u6210\u529f"),a.getRoleInfo(a.state.search))})}})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getRoleInfo(this.state.search),this.getPermission()}},{key:"getRoleInfo",value:function(e){var t=this;window.$http({url:"/admin/system/role/getRolesWithPermission",method:"GET",params:{roleNameZh:e}}).then(function(e){e&&0==e.data.code&&t.setState({tableData:e.data.data})})}},{key:"getPermission",value:function(){var e=this;window.$http({url:"/admin/system/permission/getPermission",method:"GET"}).then(function(t){if(t&&0==t.data.code){var a=[],n=!0,i=!1,r=void 0;try{for(var o,s=t.data.data[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;a.push({label:"".concat(l.module,"\uff08").concat(l.description,"\uff09"),value:l.id})}}catch(c){i=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}e.setState({permission:a})}})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:14}},n=[{title:"id",dataIndex:"id"},{title:"\u89d2\u8272\u4e2d\u6587\u540d",dataIndex:"nameZh"},{title:"\u89d2\u8272\u82f1\u6587\u540d",dataIndex:"name"},{title:"\u89d2\u8272\u6743\u9650",render:function(e,t){return o.a.createElement("div",null,t.permission.map(function(e,t){var a=", ";return 0==t&&(a=""),o.a.createElement("span",{key:t},a+e.module)}))}},{title:"\u64cd\u4f5c",width:200,render:function(t,a){return o.a.createElement("span",null,o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"15px"},onClick:function(t){e.toggleRoleModal(t,"\u7f16\u8f91\u89d2\u8272",a)}},"\u7f16\u8f91"),o.a.createElement("a",{href:"javascript: void(0);",onClick:function(t){e.delRole(t,a.id)}},"\u5220\u9664"))}}];return o.a.createElement("div",{className:"role"},o.a.createElement("div",{className:"role-header flex-space-between"},o.a.createElement(me.a,{type:"primary",onClick:function(t){e.toggleRoleModal(t,"\u65b0\u589e\u89d2\u8272")}},"\u65b0\u589e\u89d2\u8272"),o.a.createElement("div",{style:{width:300}},o.a.createElement(K.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u4e2d\u6587\u540d",onSearch:this.handleSearch,enterButton:!0,allowClear:!0}))),o.a.createElement(de.a,{columns:n,dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.id}}),o.a.createElement(G.a,{title:this.state.modalTitle,visible:this.state.roleModal,maskClosable:!1,destroyOnClose:!0,onOk:this.roleSubmit,onCancel:this.toggleRoleModal},o.a.createElement(J.a,null,o.a.createElement(J.a.Item,Object.assign({label:"\u89d2\u8272\u4e2d\u6587\u540d"},a),t("nameZh",{initialValue:this.state.currentRole.nameZh,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u4e2d\u6587\u540d"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u4e2d\u6587\u540d"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u89d2\u8272\u82f1\u6587\u540d"},a),t("name",{initialValue:this.state.currentRole.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u82f1\u6587\u540d"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u82f1\u6587\u540d"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u89d2\u8272\u6743\u9650"},a),t("permission",{initialValue:this.state.currentRole.permission})(o.a.createElement(pe.a.Group,null,this.state.permission.map(function(e,t){var a={marginTop:5};return 0==t&&(a={marginTop:5,marginLeft:8}),o.a.createElement(pe.a,{value:e.value,key:t,style:a},e.label)})))))))}}]),t}(r.Component)),ge=J.a.create()(ye),Ee=a(573),ve=(a(440),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={search:"",tableData:[],modalTitle:[],fileModal:!1,currentFile:{},fileList:[],errMsg:""},a.handleSearch=function(e){a.setState({search:e}),a.getFileInfo(e)},a.delFile=function(e,t){G.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u5220\u9664\u6b64\u6587\u4ef6\uff1f\uff08\u5220\u9664\u540e\u53ef\u80fd\u5bfc\u81f4app\u4e0a\u6587\u4ef6\u65e0\u6cd5\u4e0b\u8f7d\uff09",okType:"danger",onOk:function(){window.$http({url:"/admin/system/file/delFile",method:"DELETE",data:{id:t}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u5220\u9664\u6587\u4ef6\u6210\u529f"),a.getFileInfo(a.state.search))})}})},a.fileSubmit=function(){a.props.form.validateFields(function(){var e=Object(V.a)(U.a.mark(function e(t,n){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=a.state.fileList.length){e.next=3;break}return a.setState({errMsg:"\u8bf7\u4e0a\u4f20\u6587\u4ef6"}),e.abrupt("return");case 3:window.$http({url:"/admin/system/file/".concat("\u65b0\u589e\u6587\u4ef6"==a.state.modalTitle?"addFile":"editFile"),method:"\u65b0\u589e\u6587\u4ef6"==a.state.modalTitle?"PUT":"POST",data:{id:a.state.currentFile.id,name:n.name,url:a.state.fileList[0].url,size:a.state.fileList[0].size,type:a.state.fileList[0].type}}).then(function(e){e&&0==e.data.code&&(z.a.success("".concat(a.state.modalTitle,"\u6210\u529f")),a.toggleFileModal(),a.getFileInfo(a.state.search))});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.toggleFileModal=function(e,t,n){t&&a.setState({modalTitle:t}),n?a.setState({currentFile:n}):a.setState({currentFile:{}}),n?a.setState({fileList:[{uid:"-1",url:n.url,size:n.size,type:n.type}]}):a.setState({fileList:[]}),a.setState({errMsg:""}),a.setState({fileModal:!a.state.fileModal})},a.getOssSign=function(){return new Promise(function(e){window.$http({url:"/admin/oss/getSign",method:"GET",params:{path:"image/admin/"}}).then(function(t){t&&0==t.data.code&&e(t.data.data)})})},a.upload2Oss=function(e,t){return new Promise(function(a){window.$http({url:e,method:"POST",data:t}).then(function(e){a()})})},a.getSignatureUrl=function(e){return new Promise(function(t){window.$http({url:"/admin/oss/getSignatureUrl",method:"GET",params:{path:e.path,fileName:e.fileName}}).then(function(e){t(e.data.data)})})},a.beforeUpload=function(){var e=Object(V.a)(U.a.mark(function e(t){var n,i,r,o;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getOssSign();case 2:return n=e.sent,i=new FormData,r=Math.random(),i.append("key","".concat(n.dirPath).concat(n.key,"_").concat(r,".").concat(t.name.split(".")[1])),i.append("ossAccessKeyId",n.ossAccessKeyId),i.append("policy",n.policy),i.append("Signature",n.Signature),i.append("host",n.host),i.append("success_action_status",n.success_action_status),i.append("file",t),e.next=14,a.upload2Oss(n.host,i);case 14:return e.next=16,a.getSignatureUrl({path:n.dirPath,fileName:"".concat(n.key,"_").concat(r,".").concat(t.name.split(".")[1])});case 16:return o=e.sent,a.setState({fileList:[{uid:"-1",url:o,size:t.size/1e3+"KB",type:t.name.split(".")[1]}]}),a.setState({errMsg:""}),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getFileInfo(this.state.search)}},{key:"getFileInfo",value:function(e){var t=this;window.$http({url:"/admin/system/file/getFileInfo",method:"GET",params:{fileName:e}}).then(function(e){e&&0==e.data.code&&t.setState({tableData:Object.values(e.data.data)})})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:14}},n=[{title:"\u6587\u4ef6\u540d",dataIndex:"name"},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"size"},{title:"\u6587\u4ef6\u683c\u5f0f",dataIndex:"type"},{title:"\u64cd\u4f5c",width:200,render:function(t,a){return o.a.createElement("span",null,o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"15px"},onClick:function(t){e.toggleFileModal(t,"\u7f16\u8f91\u6587\u4ef6",a)}},"\u7f16\u8f91"),o.a.createElement("a",{href:"javascript: void(0);",onClick:function(t){e.delFile(t,a.id)}},"\u5220\u9664"))}}],i=o.a.createElement("div",null,o.a.createElement(L.a,{type:"plus"}));return o.a.createElement("div",{className:"file"},o.a.createElement("div",{className:"file-header flex-space-between"},o.a.createElement(me.a,{type:"primary",onClick:function(t){e.toggleFileModal(t,"\u65b0\u589e\u6587\u4ef6")}},"\u65b0\u589e\u6587\u4ef6"),o.a.createElement("div",{style:{width:300}},o.a.createElement(K.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d",onSearch:this.handleSearch,enterButton:!0,allowClear:!0}))),o.a.createElement(de.a,{columns:n,dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.name}}),o.a.createElement(G.a,{title:this.state.modalTitle,visible:this.state.fileModal,maskClosable:!1,destroyOnClose:!0,onOk:this.fileSubmit,onCancel:this.toggleFileModal},o.a.createElement(J.a,null,o.a.createElement(J.a.Item,Object.assign({label:"\u6587\u4ef6\u540d\u79f0"},a),t("name",{initialValue:this.state.currentFile.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u79f0"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u79f0"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u4e0a\u4f20\u6587\u4ef6"},a,{required:!0,validateStatus:"error",help:this.state.errMsg}),o.a.createElement(Ee.a,{listType:"picture-card",fileList:this.state.fileList,beforeUpload:this.beforeUpload,onRemove:function(){e.setState({fileList:[]})}},this.state.fileList.length>=1?null:i)))))}}]),t}(r.Component)),we=J.a.create()(ve),be=(a(477),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={search:"",tableData:[],modalTitle:[],basicModal:!1,currentBasic:{}},a.handleSearch=function(e){a.setState({search:e}),a.getBasicInfo(e)},a.delBasic=function(e,t){G.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u5220\u9664\u6b64\u5b57\u5178\uff1f\uff08\u5220\u9664\u540e\u53ef\u80fd\u5bfc\u81f4app\u4e0a\u57fa\u7840\u8d44\u6599\u65e0\u6cd5\u663e\u793a\uff09",okType:"danger",onOk:function(){window.$http({url:"/admin/system/basic/delBasic",method:"DELETE",data:{id:t}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u5220\u9664\u5b57\u5178\u6210\u529f"),a.getBasicInfo(a.state.search))})}})},a.basicSubmit=function(){a.props.form.validateFields(function(e,t){e||window.$http({url:"/admin/system/basic/".concat("\u65b0\u589e\u5b57\u5178"==a.state.modalTitle?"addBasic":"editBasic"),method:"\u65b0\u589e\u5b57\u5178"==a.state.modalTitle?"PUT":"POST",data:{id:a.state.currentBasic.id,basicName:t.name,basicValue:t.info}}).then(function(e){e&&0==e.data.code&&(z.a.success("".concat(a.state.modalTitle,"\u6210\u529f")),a.toggleBasicModal(),a.getBasicInfo(a.state.search))})})},a.toggleBasicModal=function(e,t,n){t&&a.setState({modalTitle:t}),n?a.setState({currentBasic:n}):a.setState({currentBasic:{}}),a.setState({basicModal:!a.state.basicModal})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getBasicInfo(this.state.search)}},{key:"getBasicInfo",value:function(e){var t=this;window.$http({url:"/admin/system/basic/getBasicInfo",method:"GET",params:{basicName:e}}).then(function(e){if(e&&0==e.data.code){var a=Object.values(e.data.data);a.forEach(function(e){e.info=e.info.join(",")}),t.setState({tableData:a})}})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:14}},n=[{title:"\u5b57\u5178\u540d\u79f0",dataIndex:"name"},{title:"\u503c",dataIndex:"info"},{title:"\u64cd\u4f5c",width:200,render:function(t,a){return o.a.createElement("span",null,o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"15px"},onClick:function(t){e.toggleBasicModal(t,"\u7f16\u8f91\u5b57\u5178",a)}},"\u7f16\u8f91"),o.a.createElement("a",{href:"javascript: void(0);",onClick:function(t){e.delBasic(t,a.id)}},"\u5220\u9664"))}}];return o.a.createElement("div",{className:"basic"},o.a.createElement("div",{className:"basic-header flex-space-between"},o.a.createElement(me.a,{type:"primary",onClick:function(t){e.toggleBasicModal(t,"\u65b0\u589e\u5b57\u5178")}},"\u65b0\u589e\u5b57\u5178"),o.a.createElement("div",{style:{width:300}},o.a.createElement(K.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u5b57\u5178\u540d\u79f0",onSearch:this.handleSearch,enterButton:!0,allowClear:!0}))),o.a.createElement(de.a,{columns:n,dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.id}}),o.a.createElement(G.a,{title:this.state.modalTitle,visible:this.state.basicModal,maskClosable:!1,destroyOnClose:!0,onOk:this.basicSubmit,onCancel:this.toggleBasicModal},o.a.createElement(J.a,null,o.a.createElement(J.a.Item,Object.assign({label:"\u5b57\u5178\u540d\u79f0"},a,{extra:"\u4fee\u6539\u5b57\u5178\u540d\u79f0\u53ef\u80fd\u5bfc\u81f4app\u57fa\u7840\u8d44\u6599\u65e0\u6cd5\u663e\u793a"}),t("name",{initialValue:this.state.currentBasic.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5b57\u5178\u540d\u79f0"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u5b57\u5178\u540d\u79f0"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u503c"},a,{extra:"\u8bf7\u5728\u4e0d\u540c\u7684\u9009\u9879\u4e2d\u95f4\u52a0\u82f1\u6587\u9017\u53f7"}),t("info",{initialValue:this.state.currentBasic.info,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u503c"}]})(o.a.createElement(K.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u503c",rows:"3"}))))))}}]),t}(r.Component)),Ce=J.a.create()(be),ke=a(567),Se=(a(479),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={type:"Android",fileList:[],errMsg:""},a.versionSubmit=function(){a.props.form.validateFields(function(e,t){0!=a.state.fileList.length?window.$http({url:"/admin/system/version/addVersion",method:"PUT",data:{title:t.title,description:t.description,type:a.state.type,version_id:t.version_id,version_name:t.version_name,url:a.state.fileList[0].url,force_update:t.force?1:0}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u6dfb\u52a0\u65b0\u7248\u672c\u6210\u529f"),a.props.form.resetFields(),a.setState({fileList:[]}))}):a.setState({errMsg:"\u8bf7\u4e0a\u4f20\u6587\u4ef6"})})},a.getOssSign=function(){return new Promise(function(e){window.$http({url:"/admin/oss/getSign",method:"GET",params:{path:"app/Android/"}}).then(function(t){t&&0==t.data.code&&e(t.data.data)})})},a.upload2Oss=function(e,t){return new Promise(function(a){window.$http({url:e,method:"POST",data:t}).then(function(e){a()})})},a.getSignatureUrl=function(e){return new Promise(function(t){window.$http({url:"/admin/oss/getSignatureUrl",method:"GET",params:{path:e.path,fileName:e.fileName}}).then(function(e){t(e.data.data)})})},a.beforeUpload=function(){var e=Object(V.a)(U.a.mark(function e(t){var n,i,r,o;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("apk"==t.name.split(".")[1]){e.next=2;break}return e.abrupt("return",!1);case 2:if(!(t.size>2e7)){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,a.getOssSign();case 6:return n=e.sent,i=new FormData,r=Math.random(),i.append("key","".concat(n.dirPath).concat(n.key,"_").concat(r,".").concat(t.name.split(".")[1])),i.append("ossAccessKeyId",n.ossAccessKeyId),i.append("policy",n.policy),i.append("Signature",n.Signature),i.append("host",n.host),i.append("success_action_status",n.success_action_status),i.append("file",t),e.next=18,a.upload2Oss(n.host,i);case 18:return e.next=20,a.getSignatureUrl({path:n.dirPath,fileName:"".concat(n.key,"_").concat(r,".").concat(t.name.split(".")[1])});case 20:return o=e.sent,a.setState({fileList:[{uid:"-1",url:o,name:t.name,size:t.size/1e3+"KB",type:t.name.split(".")[1]}]}),a.setState({errMsg:""}),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:14}},n=o.a.createElement(me.a,null,o.a.createElement(L.a,{type:"upload"})," Upload");return o.a.createElement("div",{className:"version flex-center-x"},o.a.createElement(oe.a,{title:this.state.type,style:{width:600}},o.a.createElement(J.a,null,o.a.createElement(J.a.Item,Object.assign({label:"\u64cd\u4f5c\u7cfb\u7edf"},a),o.a.createElement(le.a.Group,{value:this.state.type,onChange:function(t){e.setState({type:t.target.value})}},o.a.createElement(le.a,{value:"Android"},"Android"),o.a.createElement(le.a,{value:"IOS"},"IOS"))),o.a.createElement(J.a.Item,Object.assign({label:"\u6807\u9898"},a),t("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u63cf\u8ff0"},a),t("description",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u63cf\u8ff0"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u7248\u672c\u53f7"},a),t("version_id",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u53f7"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u7248\u672c\u53f7"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u7248\u672c\u540d\u79f0"},a),t("version_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}))),o.a.createElement(J.a.Item,Object.assign({label:"\u662f\u5426\u5f3a\u5236\u66f4\u65b0"},a),t("force",{valuePropName:"checked"})(o.a.createElement(ke.a,null))),"Android"==this.state.type?o.a.createElement(J.a.Item,Object.assign({label:"\u66f4\u65b0\u5730\u5740"},a,{required:!0,validateStatus:"error",help:this.state.errMsg,extra:"\u53ea\u80fd\u4e0a\u4f20apk\u6587\u4ef6\uff0c\u4e14\u4e0d\u80fd\u8d85\u8fc720M"}),o.a.createElement(Ee.a,{beforeUpload:this.beforeUpload,fileList:this.state.fileList,onRemove:function(){e.setState({fileList:[]})}},this.state.fileList.length>=1?null:n)):null,o.a.createElement(J.a.Item,{wrapperCol:{span:19,offset:14}},o.a.createElement(me.a,{onClick:function(){e.props.form.resetFields()||e.setState({fileList:[]})},style:{marginRight:10}},"\u91cd\u7f6e"),o.a.createElement(me.a,{type:"primary",onClick:this.versionSubmit},"\u4fdd\u5b58")))))}}]),t}(r.Component)),Oe=J.a.create()(Se),Ie=(a(482),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={search:"",tableData:[],modalTitle:[],basicModal:!1,currentBasic:{}},a.handleSearch=function(e){a.setState({search:e}),a.getBasicInfo(e)},a.basicSubmit=function(){a.props.form.validateFields(function(e,t){e||window.$http({url:"/admin/system/plants/addPlants",method:"POST",data:{param_name:t.param_name}}).then(function(e){e&&0==e.data.code&&(z.a.success("".concat(a.state.modalTitle,"\u6210\u529f")),a.getBasicInfo(a.state.search))})})},a.toggleBasicModal=function(e,t,n){t&&a.setState({modalTitle:t}),n?a.setState({currentBasic:n}):a.setState({currentBasic:{}}),a.setState({basicModal:!a.state.basicModal})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getBasicInfo(this.state.search)}},{key:"getBasicInfo",value:function(e){var t=this;window.$http({url:"/admin/system/plants/getPlantsList",method:"GET"}).then(function(e){e&&0==e.data.code&&t.setState({tableData:e.data.data})})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return o.a.createElement("div",{className:"basic"},o.a.createElement("div",{className:"basic-header flex-space-between"},o.a.createElement(me.a,{type:"primary",onClick:function(t){e.toggleBasicModal(t,"\u65b0\u589e\u690d\u7269\u4ea7\u54c1")}},"\u65b0\u589e\u690d\u7269\u4ea7\u54c1")),o.a.createElement(de.a,{columns:[{title:"\u690d\u7269\u4ea7\u54c1\u540d\u79f0",dataIndex:"param_name"},{title:"\u503c",dataIndex:"param_value"}],dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.id}}),o.a.createElement(G.a,{title:this.state.modalTitle,visible:this.state.basicModal,maskClosable:!1,destroyOnClose:!0,onOk:this.basicSubmit,onCancel:this.toggleBasicModal},o.a.createElement(J.a,null,o.a.createElement(J.a.Item,Object.assign({label:"\u690d\u7269\u4ea7\u54c1\u540d\u79f0"},{labelCol:{span:6},wrapperCol:{span:14}}),t("param_name",{initialValue:this.state.currentBasic.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u690d\u7269\u4ea7\u54c1\u540d\u79f0"}]})(o.a.createElement(K.a,{placeholder:"\u8bf7\u8f93\u5165\u690d\u7269\u4ea7\u54c1\u540d\u79f0"}))))))}}]),t}(r.Component)),_e=J.a.create()(Ie),je=a(218),Ne=(a(484),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={tableData:[],companyType:[]},a.getBasicInfo=function(){return new Promise(function(e){window.$http({url:"/admin/system/basic/getBasicInfo",method:"GET",params:{basicName:""}}).then(function(t){t&&0==t.data.code&&(t.data.data["\u4f01\u4e1a\u7c7b\u578b"].info.unshift("\u5168\u90e8"),a.setState({companyType:t.data.data["\u4f01\u4e1a\u7c7b\u578b"].info},function(){e()}))})})},a.getCompanyInfo=function(e,t,n,i){window.$http({url:"/admin/company/getCompanyList",method:"GET",params:{companyType:"\u5168\u90e8"===e?"":e,name:t,status:n,store:i}}).then(function(e){e&&0==e.data.code&&a.setState({tableData:e.data.data})})},a.search=function(){var e=a.props.form.getFieldsValue();a.getCompanyInfo(e.companyType,e.name?e.name:"",e.status,e.store?e.store:"")},a.skipNewPath=function(e){a.props.history.push({pathname:"/app/company/companyDetail",search:window.$querystring.stringify({id:e})})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=Object(V.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBasicInfo();case 2:this.getCompanyInfo(this.state.companyType[0],"","","");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=["","\u5f85\u5ba1\u6838","\u5df2\u6ce8\u518c","\u672a\u901a\u8fc7","\u5df2\u6ce8\u9500"],a=this.props.form.getFieldDecorator,n=[{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"name"},{title:"\u4f01\u4e1a\u6cd5\u4eba",dataIndex:"corporation"},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"phone"},{title:"\u4f01\u4e1a\u7c7b\u578b",dataIndex:"companyType"},{title:"\u4ed3\u50a8\u5730\u70b9",dataIndex:"store"},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"create_time"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return o.a.createElement("span",null,t[e])}},{title:"\u64cd\u4f5c",width:200,render:function(t,a){return o.a.createElement("span",null,o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"15px"},onClick:function(t){e.skipNewPath(a.id)}},"\u67e5\u770b"))}}];return o.a.createElement("div",{className:"company-info"},o.a.createElement("div",{className:"company-info-header"},o.a.createElement(J.a,{layout:"inline"},o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u7c7b\u578b"},a("companyType",{initialValue:this.state.companyType[0]})(o.a.createElement(je.a,{style:{width:170}},this.state.companyType.map(function(e,t){return o.a.createElement(je.a.Option,{value:e,key:t},e)})))),o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u540d\u79f0"},a("name")(o.a.createElement(K.a,{style:{width:170}}))),o.a.createElement(J.a.Item,{label:"\u4ed3\u50a8\u5730\u70b9"},a("store")(o.a.createElement(K.a,{style:{width:170}}))),o.a.createElement(J.a.Item,{label:"\u72b6\u6001"},a("status",{initialValue:""})(o.a.createElement(je.a,{style:{width:170}},o.a.createElement(je.a.Option,{value:""},"\u5168\u90e8"),o.a.createElement(je.a.Option,{value:2},"\u5df2\u6ce8\u518c"),o.a.createElement(je.a.Option,{value:1},"\u5f85\u5ba1\u6838"),o.a.createElement(je.a.Option,{value:4},"\u5df2\u6ce8\u9500"),o.a.createElement(je.a.Option,{value:3},"\u672a\u901a\u8fc7")))),o.a.createElement(J.a.Item,null,o.a.createElement(me.a,{type:"primary",onClick:this.search},"\u641c\u7d22")))),o.a.createElement(de.a,{columns:n,dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.id}}))}}]),t}(r.Component)),xe=J.a.create()(Ne),Me=a(564),Te=(a(486),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={imageModal:!1,imageSrc:""},a.submit=function(){a.props.form.validateFields(function(e,t){e||window.$http({url:"/admin/company/approveCompany",method:"PUT",data:{id:a.props.company.id,status:t.status,refuse_reason:t.refuse_reason&&t.refuse_reason.toString()||"",remark:t.remark}}).then(function(e){e&&0===e.data.code&&(z.a.success("\u5ba1\u6838\u6210\u529f"),a.props.updateCompany())})})},a.setImageModalData=function(e){a.setState({imageModal:!0}),a.setState({imageSrc:e})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return o.a.createElement("div",{className:"company-data"},o.a.createElement(J.a,{layout:"inline"},o.a.createElement("div",null,o.a.createElement(J.a.Item,{style:{marginLeft:8}},o.a.createElement("span",{style:{fontWeight:700}},"\u57fa\u7840\u8d44\u6599")),o.a.createElement("div",{style:{marginLeft:24}},o.a.createElement(ie.a,null,o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u6cd5\u4eba"},this.props.company.corporation)),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u539f\u6599\u6765\u6e90"},this.props.company.source))),o.a.createElement(ie.a,null,o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u7edf\u4e00\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801"},this.props.company.code)),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4ed3\u50a8\u5730\u70b9"},this.props.company.store))),o.a.createElement(ie.a,null,o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u8054\u7cfb\u7535\u8bdd"},this.props.company.phone)),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\uff08\u6728\u6750\uff09\u539f\u6599\u4e3b\u8981\u4ea7\u54c1"},this.props.company.kind))),o.a.createElement(ie.a,null,o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u5730\u5740"},this.props.company.address)),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u7c7b\u578b"},this.props.company.companyType))),o.a.createElement(ie.a,{style:{marginTop:20}},o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u8425\u4e1a\u6267\u7167"},o.a.createElement("img",{src:this.props.company.licencePic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.company.licencePic)}}))),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u6cd5\u4eba\u8eab\u4efd\u8bc1"},o.a.createElement("img",{src:this.props.company.cardFrontPic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.company.cardFrontPic)}}),o.a.createElement("img",{src:this.props.company.cardOppositePic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.company.cardOppositePic)}})))),o.a.createElement(ie.a,{style:{marginTop:30}},o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u544a\u77e5\u4e66"},o.a.createElement("img",{src:this.props.company.notificationPic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.company.notificationPic)}}))),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u627f\u8bfa\u4e66"},o.a.createElement("img",{src:this.props.company.commitPic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.company.commitPic)}})))))),o.a.createElement("div",null,o.a.createElement(J.a.Item,{style:{marginLeft:8,marginTop:20}},o.a.createElement("span",{style:{fontWeight:700}},"\u751f\u4ea7\u9500\u552e\u76f8\u5173")),o.a.createElement("div",{style:{marginLeft:24}},o.a.createElement(ie.a,null,o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u751f\u4ea7\u80fd\u529b"},"".concat(this.props.company.saw,"\u5957\u53f0\u952f\uff0c").concat(this.props.company.sawOutput,"m\xb3"))),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u6708\u9500\u552e\u91cf"},this.props.company.saleMount))),o.a.createElement(ie.a,null,o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4e3b\u8981\u4ea7\u54c1"},this.props.company.product)),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4e3b\u8981\u9500\u552e\u533a\u57df"},this.props.company.saleArea))))),o.a.createElement("div",null,o.a.createElement(J.a.Item,{style:{marginLeft:8,marginTop:8}},o.a.createElement("span",{style:{fontWeight:700}},"\u5f00\u8bc1\u4e1a\u52a1\u5458")),o.a.createElement("div",{style:{marginLeft:24}},o.a.createElement(ie.a,null,o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4e1a\u52a1\u54581"},this.props.employee[0]&&this.props.employee[0].name)),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u4e1a\u52a1\u54582"},this.props.employee[1]&&this.props.employee[1].name))),o.a.createElement(ie.a,null,o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u8054\u7cfb\u7535\u8bdd"},this.props.employee[0]&&this.props.employee[0].username)),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u8054\u7cfb\u7535\u8bdd"},this.props.employee[1]&&this.props.employee[1].username))),o.a.createElement(ie.a,{style:{marginTop:20}},o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u9644\u4ef6"},o.a.createElement("img",{src:this.props.employee[0]&&this.props.employee[0].socialSecurityPic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.employee[0]&&e.props.employee[0].socialSecurityPic)}}),o.a.createElement("img",{src:this.props.employee[0]&&this.props.employee[0].cardFrontPic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.employee[0]&&e.props.employee[0].cardFrontPic)}}),o.a.createElement("img",{src:this.props.employee[0]&&this.props.employee[0].cardOppositePic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.employee[0]&&e.props.employee[0].cardOppositePic)}}))),o.a.createElement(re.a,{span:12},o.a.createElement(J.a.Item,{label:"\u9644\u4ef6"},o.a.createElement("img",{src:this.props.employee[1]&&this.props.employee[1].socialSecurityPic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.employee[1]&&e.props.employee[1].socialSecurityPic)}}),o.a.createElement("img",{src:this.props.employee[1]&&this.props.employee[1].cardFrontPic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.employee[1]&&e.props.employee[1].cardFrontPic)}}),o.a.createElement("img",{src:this.props.employee[1]&&this.props.employee[1].cardOppositePic,alt:"",className:"img",onClick:function(){e.setImageModalData(e.props.employee[1]&&e.props.employee[1].cardOppositePic)}})))))),1!==this.props.company.status?null:o.a.createElement("div",null,o.a.createElement(J.a.Item,{style:{marginLeft:8,marginTop:8}},o.a.createElement("span",{style:{fontWeight:700}},"\u5ba1\u6838")),o.a.createElement("div",{style:{marginLeft:24}},o.a.createElement(ie.a,null,o.a.createElement(J.a.Item,{label:"\u5ba1\u6838\u7ed3\u679c: ",style:{marginLeft:53}},t("status",{initialValue:3})(o.a.createElement(le.a.Group,null,o.a.createElement(le.a,{value:2},"\u901a\u8fc7"),o.a.createElement(le.a,{value:3},"\u4e0d\u901a\u8fc7"))))),2===this.props.form.getFieldValue("status")?null:o.a.createElement(ie.a,null,o.a.createElement(J.a.Item,{label:"\u5ba1\u6838\u4e0d\u901a\u8fc7\u539f\u56e0: "},t("refuse_reason",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5ba1\u6838\u4e0d\u901a\u8fc7\u539f\u56e0"}]})(o.a.createElement(K.a,{style:{width:300}})))),o.a.createElement(ie.a,null,o.a.createElement(J.a.Item,{label:"\u5907\u6ce8: ",style:{marginTop:15,marginLeft:80}},t("remark",{rules:[{max:200,message:"\u5907\u6ce8\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57"}]})(o.a.createElement(K.a.TextArea,{rows:4,style:{width:300}})))),o.a.createElement(ie.a,null,o.a.createElement(J.a.Item,{style:{marginTop:5,marginLeft:360}},o.a.createElement(me.a,{type:"primary",onClick:this.submit},"\u63d0\u4ea4")))))),o.a.createElement(G.a,{width:1e3,title:"\u67e5\u770b\u56fe\u7247",visible:this.state.imageModal,footer:null,onCancel:function(){e.setState({imageModal:!1})}},o.a.createElement("img",{src:this.state.imageSrc,alt:"",className:"img_modal"})))}}]),t}(r.Component)),De=J.a.create()(Te),Pe=(a(488),G.a.confirm,function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={company:{},certAmount:{boardCertAmount:{amount:0},woodCertAmount:{amount:0}},employee:[],basicInfo:{"\u5ba1\u6838\u4e0d\u901a\u8fc7\u539f\u56e0":{info:[]}}},a.skipNewPath=function(e){a.props.history.push({pathname:"/app/business/".concat(e),params:{status:2,companyName:a.state.company.name}})},a.stop=function(e){var t=a.state.company.id;window.$http({url:"/admin/company/stop",method:"PUT",data:{id:t,status:e}}).then(function(e){if(e&&0==e.data.code){var t=a.state.company;t.status=5,a.setState({company:t})}})},a.start=function(e){var t=a.state.company.id;window.$http({url:"/admin/company/stop",method:"PUT",data:{id:t,status:e}}).then(function(t){if(t&&0==t.data.code){var n=a.state.company;n.status=e,a.setState({company:n})}})},a.showDeleteCompanyModal=function(){G.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u786e\u8ba4\u5220\u9664\u8be5\u4f01\u4e1a\uff1f",okType:"danger",onOk:function(){window.$http({url:"/admin/company/cancel",method:"PUT",data:{id:window.$querystring.parse(a.props.location.search.slice(1)).id}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u5220\u9664\u4f01\u4e1a\u6210\u529f"),a.props.history.push("/app/company/companyInfo"))})}})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getBasicInfo("\u5ba1\u6838\u4e0d\u901a\u8fc7\u539f\u56e0"),this.getCompany(),this.getCertAmount(),this.getEmployee()}},{key:"getBasicInfo",value:function(e){var t=this;window.$http({url:"/admin/system/basic/getBasicInfo",method:"GET",params:{basicName:e}}).then(function(e){e&&0==e.data.code&&t.setState({basicInfo:e.data.data})})}},{key:"getCompany",value:function(){var e=this;window.$http({url:"/admin/company/getCompanyById",method:"GET",params:{id:window.$querystring.parse(this.props.location.search.slice(1)).id}}).then(function(t){t&&0==t.data.code&&e.setState({company:t.data.data})})}},{key:"getCertAmount",value:function(){var e=this;window.$http({url:"/admin/company/getCertAmountById",method:"GET",params:{id:window.$querystring.parse(this.props.location.search.slice(1)).id}}).then(function(t){t&&0==t.data.code&&e.setState({certAmount:t.data.data})})}},{key:"getEmployee",value:function(){var e=this;window.$http({url:"/admin/company/getEmployeeByCompnayId",method:"GET",params:{id:window.$querystring.parse(this.props.location.search.slice(1)).id}}).then(function(t){t&&0==t.data.code&&e.setState({employee:t.data.data})})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"company-detail"},o.a.createElement("div",null,o.a.createElement(J.a,{layout:"inline"},o.a.createElement(ie.a,{gutter:16},o.a.createElement(re.a,{span:10},o.a.createElement(J.a.Item,{label:"\u516c\u53f8\u540d\u79f0"},this.state.company.name,o.a.createElement(Me.a,{color:["","#108ee9","#87d068","#f50","#eee"][this.state.company.status],style:{marginLeft:24}},["","\u5f85\u5ba1\u6838","\u5df2\u6ce8\u518c","\u672a\u901a\u8fc7","\u5df2\u6ce8\u9500","\u5df2\u505c\u5f00"][this.state.company.status]),2==this.state.company.status?o.a.createElement(me.a,{type:"primary",onClick:function(){e.stop(5)}},"\u505c\u5f00"):null,5==this.state.company.status?o.a.createElement(me.a,{type:"primary",onClick:function(){e.start(2)}},"\u5f00\u542f"):null)),o.a.createElement(re.a,{span:7},o.a.createElement(J.a.Item,{label:"\u4fe1\u7528\u4ee3\u7801"},this.state.company.code))),o.a.createElement(ie.a,{gutter:16},o.a.createElement(re.a,{span:10},o.a.createElement(J.a.Item,{label:"\u53ef\u7528\u539f\u6728\u91cf"},this.state.certAmount.woodCertAmount.amount+"m\xb3")),o.a.createElement(re.a,{span:7},o.a.createElement(J.a.Item,{label:"\u53ef\u7528\u677f\u6750\u91cf"},this.state.certAmount.boardCertAmount.amount+"m\xb3"))),o.a.createElement(J.a.Item,null,o.a.createElement(me.a,{type:"primary",onClick:function(){e.skipNewPath("cert")}},"\u67e5\u770b\u4f01\u4e1a\u5f00\u8bc1\u4fe1\u606f"),o.a.createElement(me.a,{type:"primary",onClick:function(){e.skipNewPath("plantCert")},style:{marginLeft:15}},"\u67e5\u770b\u4f01\u4e1a\u6728\u6750\u8fd0\u8f93\u8bc1\u4e0e\u690d\u7269\u68c0\u75ab\u7533\u8bf7"),4==this.state.company.status?"":o.a.createElement(me.a,{type:"danger",onClick:function(){e.showDeleteCompanyModal()},style:{marginLeft:15}},"\u5220\u9664"),o.a.createElement(me.a,{type:"primary",onClick:function(){e.props.history.push("/app/company/companyInfo")},style:{marginLeft:15}},"\u8fd4\u56de")))),o.a.createElement(De,{company:this.state.company,employee:this.state.employee,refuseReason:this.state.basicInfo["\u5ba1\u6838\u4e0d\u901a\u8fc7\u539f\u56e0"].info,updateCompany:this.getCompany.bind(this)}))}}]),t}(r.Component)),Le=J.a.create()(Pe),Ae=a(561),Fe=a(577),Re=(a(490),Ae.a.TabPane),$e=je.a.Option,Be=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={tableData:[],type:"first_variety_01",showAdd:!1,nowChoiceCompany:{woodDetail:{first_variety_01:[],first_variety_02:[]},firstVariety01Amount:0,firstVariety02Amount:0}},a.callbackFn=function(e){a.setState({type:e})},a.selCompanyChange=function(e){a.props.form.setFieldsValue({nowChoiceCompany:e});var t=JSON.parse(e);t.woodDetail||(t.woodDetail={first_variety_01:[],first_variety_02:[]},t.firstVariety01Amount=0,t.firstVariety02Amount=0),a.setState({nowChoiceCompany:t},function(){a.state.nowChoiceCompany.name&&window.$http({url:"/admin/company/getCompanyInventoryById",method:"GET",params:{id:a.state.nowChoiceCompany.id}}).then(function(e){if(e&&0==e.data.code){var t=a.state.nowChoiceCompany;t.woodDetail=e.data.data.info.woodDetail||{first_variety_01:[],first_variety_02:[]},"undefined"!==typeof e.data.data.info.firstVariety01Amount&&(t.firstVariety01Amount=e.data.data.info.firstVariety01Amount),"undefined"!==typeof e.data.data.info.firstVariety02Amount&&(t.firstVariety02Amount=e.data.data.info.firstVariety02Amount),a.setState({nowChoiceCompany:t})}})})},a.selChange=function(e){a.props.form.setFieldsValue({plant_variety:e})},a.selWoodsChange=function(e){a.setState({addWoodsValue:e})},a.onSearch=function(e){},a.countChange=function(e){a.props.form.setFieldsValue({amount:e})},a.addOk=function(){a.props.form.validateFields(function(e,t){e||a.addReq("\u6dfb\u52a0",t)})},a.getRecord=function(){window.$http({url:"/admin/company/getCompanyInventoryById",method:"GET",params:{id:"undefined"!==typeof a.props.info.id?a.props.info.id:a.state.nowChoiceCompany.id}}).then(function(e){if(e&&0==e.data.code)if("undefined"!==typeof a.props.info.id)"undefined"!==typeof e.data.data.info.firstVariety01Amount&&(a.props.info.firstVariety01Amount=e.data.data.info.firstVariety01Amount),"undefined"!==typeof e.data.data.info.firstVariety02Amount&&(a.props.info.firstVariety02Amount=e.data.data.info.firstVariety02Amount),a.props.setWoodDetail(e.data.data.info.woodDetail);else{var t=a.state.nowChoiceCompany;t.woodDetail=e.data.data.info.woodDetail||{first_variety_01:[],first_variety_02:[]},"undefined"!==typeof e.data.data.info.firstVariety01Amount&&(t.firstVariety01Amount=e.data.data.info.firstVariety01Amount),"undefined"!==typeof e.data.data.info.firstVariety02Amount&&(t.firstVariety02Amount=e.data.data.info.firstVariety02Amount),a.setState({nowChoiceCompany:t})}})},a._changeValue=function(e,t){var n;if("undefined"!==typeof a.props.info.id)(n=a.props.woodDetail)[a.state.type].map(function(i,r){i.id==t.id&&(n[a.state.type][r].amount=e.target.value)}),a.props.changeTable(n);else{var i=a.state.nowChoiceCompany;(n=i.woodDetail)[a.state.type].map(function(i,r){i.id==t.id&&(n[a.state.type][r].amount=e.target.value)}),a.setState({nowChoiceCompany:i})}},a.add=function(){"undefined"!==typeof a.props.info.id?a.setState({showAdd:!0}):a.state.nowChoiceCompany.name?a.setState({showAdd:!0}):a.props.form.validateFields()},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"addReq",value:function(e,t){var a,n=this;a="\u66f4\u65b0"==e?{amount:t.amount,id:t.id}:{first_variety:this.state.type,cid:"undefined"!==typeof this.props.info.id?this.props.info.id:this.state.nowChoiceCompany.id,plant_variety:t.plant_variety,amount:t.amount},window.$http({url:"/admin/company/editorCompanyInventory",method:"POST",data:a}).then(function(t){if(t&&0==t.data.code){if(z.a.success("".concat(e,"\u6210\u529f")),"\u6dfb\u52a0"==e){var a;if(n.setState({showAdd:!1}),"undefined"!==typeof n.props.info.id)a=n.props.woodDetail,"add"==t.data.data.type&&a[n.state.type].push(t.data.data);else{var i=n.state.nowChoiceCompany;a=i.woodDetail,"add"==t.data.data.type&&a[n.state.type].push(t.data.data),n.setState({nowChoiceCompany:i})}n.props.addSuccess(a)}n.getRecord()}})}},{key:"render",value:function(){var e,t=this,a=this.props.form.getFieldDecorator,n=[{title:"\u6728\u6750\u54c1\u79cd",dataIndex:"first_variety",key:"first_variety"},{title:"\u5f00\u8bc1\u91cf(m\xb3)",dataIndex:"",key:"age",render:function(e,a){return o.a.createElement(K.a,{size:"small",value:a.amount,type:"number",onChange:function(e){return t._changeValue(e,a)}})}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"last_modify_time",key:"last_modify_time"},{title:"\u64cd\u4f5c",dataIndex:"",key:"",render:function(e,a){return o.a.createElement("a",{href:"javascript:;",onClick:function(){t.addReq("\u66f4\u65b0",a)}},"\u66f4\u65b0")}}];return e="undefined"!==typeof this.props.info.id?this.props.woodDetail[this.state.type]:this.state.nowChoiceCompany.woodDetail[this.state.type],o.a.createElement("div",{className:"inventory-detail"},o.a.createElement("div",{className:"info"},"undefined"!==typeof this.props.info.id?o.a.createElement("div",{className:"label"},o.a.createElement("div",null,"\u516c\u53f8:",this.props.info.name),o.a.createElement("div",null,"\u4fe1\u7528\u4ee3\u7801:",this.props.info.code)):o.a.createElement("div",{className:"label"},o.a.createElement("div",{style:{height:"30px"}},o.a.createElement(J.a,{layout:"inline"},o.a.createElement(J.a.Item,{label:"\u516c\u53f8: "},a("nowChoiceCompany",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4f01\u4e1a"}]})(o.a.createElement(je.a,{showSearch:!0,style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u4f01\u4e1a",optionFilterProp:"children",onChange:this.selCompanyChange,onSearch:this.onSearch,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.companyList.map(function(e,t){return o.a.createElement($e,{value:JSON.stringify(e),key:t},e.name)})))))),o.a.createElement("div",null,"\u4fe1\u7528\u4ee3\u7801:",this.state.nowChoiceCompany.code)),"undefined"!==typeof this.props.info.id?o.a.createElement("div",{className:"num"},o.a.createElement("div",null,"\u53ef\u7528\u539f\u6728\u91cf: ",this.props.info.firstVariety01Amount," m\xb3"),o.a.createElement("div",null,"\u53ef\u7528\u677f\u6750\u91cf: ",this.props.info.firstVariety02Amount," m\xb3")):o.a.createElement("div",{className:"num"},o.a.createElement("div",null,"\u53ef\u7528\u539f\u6728\u91cf: ",this.state.nowChoiceCompany.firstVariety01Amount," m\xb3"),o.a.createElement("div",null,"\u53ef\u7528\u677f\u6750\u91cf: ",this.state.nowChoiceCompany.firstVariety02Amount," m\xb3"))),o.a.createElement(Ae.a,{defaultActiveKey:"first_variety_01",onChange:this.callbackFn},o.a.createElement(Re,{tab:"\u539f\u6728\u7c7b",key:"first_variety_01"}),o.a.createElement(Re,{tab:"\u677f\u6750\u7c7b",key:"first_variety_02"})),o.a.createElement("div",{className:"content"},o.a.createElement(me.a,{onClick:function(){t.add()},type:"primary",style:{marginBottom:16}},"\u65b0\u589e"),o.a.createElement(de.a,{bordered:!0,columns:n,dataSource:e,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}}})),o.a.createElement(G.a,{title:"\u65b0\u589e",visible:this.state.showAdd,onOk:this.addOk,onCancel:function(){return t.setState({showAdd:!1})},width:500},o.a.createElement(J.a,null,o.a.createElement(J.a.Item,{label:"\u6728\u6750\u54c1\u79cd: "},a("plant_variety",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6728\u6750\u54c1\u79cd"}]})(o.a.createElement(je.a,{showSearch:!0,style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u6728\u6750\u54c1\u79cd",optionFilterProp:"children",onChange:this.selChange,onSearch:this.onSearch,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.plants.map(function(e,t){return o.a.createElement($e,{value:e.key,key:t},e.value)})))),o.a.createElement(J.a.Item,{label:"\u5f00\u8bc1\u91cf: "},a("amount",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5f00\u8bc1\u91cf"}]})(o.a.createElement(Fe.a,{min:1,onChange:this.countChange}))))))}}]),t}(r.Component),Ue=J.a.create()(Be),Ve=(a(492),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={tableData:[],companyType:[],showDetail:!1,woodDetail:{},info:{},plants:[],woods:[],companyList:[]},a.getBasicInfo=function(){return new Promise(function(e){window.$http({url:"/admin/system/basic/getBasicInfo",method:"GET",params:{basicName:""}}).then(function(t){t&&0==t.data.code&&(t.data.data["\u4f01\u4e1a\u7c7b\u578b"].info.unshift("\u5168\u90e8"),a.setState({companyType:t.data.data["\u4f01\u4e1a\u7c7b\u578b"].info},function(){e()}))})})},a.setWoodDetail=function(e){a.setState({woodDetail:e})},a.getCompanyInfo=function(e,t,n,i){window.$http({url:"/admin/company/getCompanyInventoryList",method:"GET",params:{companyType:"\u5168\u90e8"===e?"":e,name:t,status:n,store:i}}).then(function(e){e&&0==e.data.code&&(a.setState({tableData:e.data.data.list}),a.setState({plants:e.data.data.plants}),a.setState({woods:e.data.data.woods}),a.setState({companyList:e.data.data.companyList}))})},a.ok=function(){a.setState({showDetail:!1}),a.getCompanyInfo("","","","")},a.search=function(){var e=a.props.form.getFieldsValue();a.getCompanyInfo(e.companyType,e.name?e.name:"",e.status,e.store?e.store:"")},a.editor=function(e,t){"editor"==t?(a.setState({showDetail:!0}),a.setState({woodDetail:e.woodDetail}),a.setState({info:e})):"add"==t&&(a.setState({showDetail:!0}),a.setState({woodDetail:{first_variety_01:[],first_variety_02:[]}}),a.setState({info:{}}))},a.changeTableDate=function(e){a.setState({woodDetail:e})},a.addSuccess=function(e){a.setState({woodDetail:e})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=Object(V.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBasicInfo();case 2:this.getCompanyInfo(this.state.companyType[0],"","","");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=[{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"name"},{title:"\u4f01\u4e1a\u6cd5\u4eba",dataIndex:"corporation"},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"phone"},{title:"\u53ef\u7528\u539f\u6728\u91cf",dataIndex:"firstVariety01Amount"},{title:"\u53ef\u7528\u677f\u6750\u91cf",dataIndex:"firstVariety02Amount"},{title:"\u64cd\u4f5c",width:200,render:function(t,a){return o.a.createElement("span",null,o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"15px"},onClick:function(t){e.editor(a,"editor")}},"\u67e5\u770b"))}}];return o.a.createElement("div",{className:"company-info"},o.a.createElement("div",{className:"company-info-header"},o.a.createElement(J.a,{layout:"inline"},o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u7c7b\u578b"},t("companyType",{initialValue:this.state.companyType[0]})(o.a.createElement(je.a,{style:{width:170}},this.state.companyType.map(function(e,t){return o.a.createElement(je.a.Option,{value:e,key:t},e)})))),o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u540d\u79f0"},t("name")(o.a.createElement(K.a,{style:{width:170}}))),o.a.createElement(J.a.Item,{label:"\u4ed3\u50a8\u5730\u70b9"},t("store")(o.a.createElement(K.a,{style:{width:170}}))),o.a.createElement(J.a.Item,{label:"\u72b6\u6001"},t("status",{initialValue:""})(o.a.createElement(je.a,{style:{width:170}},o.a.createElement(je.a.Option,{value:""},"\u5168\u90e8"),o.a.createElement(je.a.Option,{value:2},"\u5df2\u6ce8\u518c"),o.a.createElement(je.a.Option,{value:1},"\u5f85\u5ba1\u6838"),o.a.createElement(je.a.Option,{value:4},"\u5df2\u6ce8\u9500"),o.a.createElement(je.a.Option,{value:3},"\u672a\u901a\u8fc7")))),o.a.createElement(J.a.Item,null,o.a.createElement(me.a,{type:"primary",onClick:this.search},"\u641c\u7d22")),o.a.createElement(J.a.Item,null,o.a.createElement(me.a,{type:"primary",onClick:function(t){e.editor(null,"add")}},"\u65b0\u589e\u4f01\u4e1a\u5e93\u5b58")))),o.a.createElement(de.a,{columns:a,dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.id}}),o.a.createElement(G.a,{title:"\u67e5\u770b",visible:this.state.showDetail,onOk:function(){return e.ok()},onCancel:function(){return e.ok()},width:1e3},o.a.createElement(Ue,{woodDetail:this.state.woodDetail,info:this.state.info,plants:this.state.plants,woods:this.state.woods,changeTable:this.changeTableDate.bind(this),addSuccess:this.addSuccess.bind(this),companyList:this.state.companyList,setWoodDetail:this.setWoodDetail.bind(this)})))}}]),t}(r.Component)),ze=J.a.create()(Ve),qe=(a(494),Ae.a.TabPane),Ge=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={},a.callbackFn=function(e){console.log(e)},a.handleAdd=function(){},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=[{title:"\u6728\u6750\u54c1\u79cd",dataIndex:"name",key:"name"},{title:"\u5f00\u8bc1\u91cf(mm\xb3)",dataIndex:"age",key:"age"},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"address",key:"address"},{title:"\u64cd\u4f5c",dataIndex:"",key:"x",render:function(){return o.a.createElement("a",{href:"javascript:;"},"\u66f4\u65b0")}}];return o.a.createElement("div",{className:"inventory-detail"},o.a.createElement("div",{className:"info"},o.a.createElement("div",{className:"label"},o.a.createElement("div",null,"\u516c\u53f8"),o.a.createElement("div",null,"\u4fe1\u7528\u4ee3\u7801\uff1a12312312")),o.a.createElement("div",{className:"num"},o.a.createElement("div",null,"\u53ef\u7528\u539f\u6728\u91cf: ","m\xb3"),o.a.createElement("div",null,"\u53ef\u7528\u677f\u6750\u91cf: ","m\xb3"))),o.a.createElement(Ae.a,{defaultActiveKey:"1",onChange:this.callbackFn},o.a.createElement(qe,{tab:"\u539f\u6728\u7c7b",key:"1"}),o.a.createElement(qe,{tab:"\u677f\u6750\u7c7b",key:"2"})),o.a.createElement("div",{className:"content"},o.a.createElement(me.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"\u65b0\u589e"),o.a.createElement(de.a,{bordered:!0,columns:e,dataSource:[{key:1,name:"John Brown",age:32,address:"New York No. 1 Lake Park"},{key:2,name:"Jim Green",age:42,address:"London No. 1 Lake Park",description:"My name is Jim Green, I am 42 years old, living in London No. 1 Lake Park."},{key:3,name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park",description:"My name is Joe Black, I am 32 years old, living in Sidney No. 1 Lake Park."}]})))}}]),t}(r.Component),Je=J.a.create()(Ge),Ke=a(571),We=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getList(this.props.form.getFieldsValue()),window.$pubsub.subscribe("Cert_refreshCertList",function(){e.props.getList(e.props.form.getFieldsValue())})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return o.a.createElement("div",{className:"search-header"},o.a.createElement(J.a,{layout:"inline"},"plantCert"===this.props.type?null:o.a.createElement(J.a.Item,{label:"\u5f00\u8bc1\u7c7b\u578b"},t("certType",{initialValue:""})(o.a.createElement(je.a,{style:{width:170}},o.a.createElement(je.a.Option,{value:""},"\u5168\u90e8"),o.a.createElement(je.a.Option,{value:"\u677f\u6750\u7c7b\u5f00\u8bc1"},"\u677f\u6750\u7c7b\u5f00\u8bc1"),o.a.createElement(je.a.Option,{value:"\u539f\u6728\u7c7b\u5f00\u8bc1"},"\u539f\u6728\u7c7b\u5f00\u8bc1")))),o.a.createElement(J.a.Item,{label:"\u72b6\u6001"},t("status",{initialValue:this.props.status})(o.a.createElement(je.a,{style:{width:170}},o.a.createElement(je.a.Option,{value:""},"\u5168\u90e8"),o.a.createElement(je.a.Option,{value:1},"\u5f85\u5ba1\u6838"),o.a.createElement(je.a.Option,{value:2},"\u5df2\u901a\u8fc7"),o.a.createElement(je.a.Option,{value:3},"\u672a\u901a\u8fc7"),o.a.createElement(je.a.Option,{value:4},"\u5f85\u4e0a\u4f20\u7167\u7247"),o.a.createElement(je.a.Option,{value:5},"\u5f85\u5ba1\u6838\u7167\u7247"),o.a.createElement(je.a.Option,{value:6},"\u5f85\u56de\u7b7e"),o.a.createElement(je.a.Option,{value:7},"\u5df2\u56de\u7b7e")))),o.a.createElement(J.a.Item,{label:"\u4f01\u4e1a\u540d\u79f0"},t("companyName",{initialValue:this.props.companyName})(o.a.createElement(K.a,{style:{width:170}}))),o.a.createElement(J.a.Item,{label:"plantCert"===this.props.type?"\u521b\u5efa\u65f6\u95f4":"\u5f00\u8bc1\u65f6\u95f4"},t("createTime",{})(o.a.createElement(Ke.a,null))),o.a.createElement(J.a.Item,null,o.a.createElement(me.a,{type:"primary",onClick:function(){e.props.getList(e.props.form.getFieldsValue())}},"\u641c\u7d22"))))}}]),t}(r.Component);We.defaultProps={status:"",companyName:"",type:"cert"};var Qe=J.a.create()(We),Ye=a(72),Ze=(a(496),function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(j.a)(this,Object(N.a)(t).call(this,e))).state={imageDetailModal:!1,imageSrc:"",index:0,current:90,transStyle:"",height:""},a.setImageModalData=function(e,t){a.setState({imageDetailModal:!0}),a.setState({imageSrc:e}),a.setState({index:t})},a.translate=function(e){var t=a.refDom,n=t.clientWidth,i=t.clientHeight;console.log(n,i,a.refDom),a.setState({current:(a.state.current+90)%360,transStyle:"rotate("+a.state.current+"deg)"}),a.state.current/90%2==0?a.setState({height:"100%"}):a.setState({height:n+"px"})},a.saveRef=function(e){a.refDom=e},a.translate=a.translate.bind(Object(Ye.a)(Object(Ye.a)(a))),a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"onChange",value:function(e){console.log(e),this.setState({index:e})}},{key:"prev",value:function(){this.refs.Carousel&&this.refs.Carousel.prev()}},{key:"next",value:function(){this.refs.Carousel&&this.refs.Carousel.next()}}]),Object(_.a)(t,[{key:"render",value:function(){var e=this;this.state.index;return o.a.createElement("div",{className:"image-item"},o.a.createElement("span",null,this.props.title),o.a.createElement("div",{className:"carousel-box"}),this.props.images.length?o.a.createElement("div",{className:"img-box-h"},this.props.images.map(function(t,a){return o.a.createElement("img",{key:a,src:t,alt:"",style:{height:160,cursor:"pointer",marginRight:"10px"},onClick:function(){e.setImageModalData(t,a)}})})):null,"plantCert"==this.props.type?o.a.createElement("div",null,o.a.createElement("p",null,this.props.timeList.join(",")),o.a.createElement("p",null,this.props.locationList.join(",")),o.a.createElement("p",null,this.props.carNumberList.join(","))):null,"\xa0",o.a.createElement(G.a,{width:1e3,title:"plantCert"==this.props.type?1==this.props.version?"\u67e5\u770b\u56fe\u7247":"\u67e5\u770b\u56fe\u7247 ".concat(this.props.carNumberList[this.state.index]," ").concat(this.props.timeList[this.state.index]," ").concat(this.props.locationList[this.state.index]):"\u67e5\u770b\u56fe\u7247",visible:this.state.imageDetailModal,footer:null,onCancel:function(){e.setState({imageDetailModal:!1,current:90,transStyle:"rotate(0deg)"})}},o.a.createElement("img",{ref:this.saveRef,src:this.state.imageSrc,alt:"",className:"img_modal",style:{transform:this.state.transStyle,height:this.state.height}}),o.a.createElement("div",{style:{textAlign:"center",marginTop:"24px"}},o.a.createElement(me.a,{onClick:this.translate},"\u65cb\u8f6c",o.a.createElement(L.a,{type:"reload",theme:"outlined"})))))}}]),t}(r.Component)),He=(a(498),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={tableData:[],imageModal:!1,imageList:[{title:"",images:[]}],woods:[],plants:{},loading:!1,record:{},show_refuse_reason:!1},a.getCertList=function(e){window.$http({url:"/admin/business/getCertList",method:"GET",params:{certType:e.certType||"",status:e.status||"",companyName:e.companyName||"",createTime:e.createTime&&e.createTime.format("YYYY-MM-DD")||""}}).then(function(e){e&&0==e.data.code&&(e.data.data.list.map(function(e){if("first_variety_01"===e.first_variety?e.cert_type="\u539f\u6728\u7c7b\u5f00\u8bc1":"first_variety_02"===e.first_variety&&(e.cert_type="\u677f\u6750\u7c7b\u5f00\u8bc1"),e.wood_json){var t=JSON.parse(e.wood_json);e.variety=t.woodList.length}}),a.setState({tableData:e.data.data.list}),a.setState({plants:e.data.data.plants}))})},a.operateRecord=function(e,t,n,i){switch(e+t){case"\u901a\u8fc7\u539f\u6728\u7c7b\u5f00\u8bc1":a.invokeCert(n.id,"wood_cert",2,1,n.first_variety,n.wood_json,n.cid);break;case"\u901a\u8fc7\u677f\u6750\u7c7b\u5f00\u8bc1":a.invokeCert(n.id,"wood_cert",2,2,n.first_variety,n.wood_json,n.cid);break;case"\u9a73\u56de\u539f\u6728\u7c7b\u5f00\u8bc1":case"\u9a73\u56de\u677f\u6750\u7c7b\u5f00\u8bc1":a.refuse(n.id,"wood_cert",3,n.first_variety,i,n.cid);break;case"\u67e5\u770b\u677f\u6750\u7c7b\u5f00\u8bc1":var r=[{title:"1.\u901a\u5173\u65e0\u7eb8\u5316\u653e\u884c\u901a\u77e5\u5355",images:n.noticePic?n.noticePic.split(","):[]},{title:"2.\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6d77\u5173\u8fdb\u53e3\u8d27\u7269\u62a5\u5173\u5355",images:n.declarationPic?n.declarationPic.split(","):[]},{title:"3.\u5408\u540c\u6216\u9500\u552e\u8bc1\u660e",images:n.contractPic?n.contractPic.split(","):[]}];a.setState({record:n,imageModal:!0,imageList:r},function(){a.defautModule()});break;case"\u67e5\u770b\u539f\u6728\u7c7b\u5f00\u8bc1":var o=[{title:"1.\u592a\u4ed3\u51fa\u5165\u5883\u68c0\u9a8c\u68c0\u75ab\u5c40\u8fdb\u5883\u6563\u88c5\u6728\u6750\u51c6\u8fd0\u901a\u77e5\u5355",images:n.noticePic?n.noticePic.split(","):[]},{title:"2.\u8fdb\u53e3\u5c0f\u63d0\u5355",images:n.ladingPic?n.ladingPic.split(","):[]},{title:"3.\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6d77\u5173\u8fdb\u53e3\u8d27\u7269\u62a5\u5173\u5355",images:n.declarationPic?n.declarationPic.split(","):[]}];a.setState({record:n,imageModal:!0,imageList:o},function(){a.defautModule()})}},a.defautModule=function(){var e=JSON.parse(a.state.record.wood_json).woodList;e.map(function(e){e.plant_variety_txt=a.state.plants[e.plant_variety]}),console.log(e),a.setState({woods:e})},a.invokeCert=function(e,t,a,n,i,r,o){window.$http({url:"/admin/business/invokeCert",method:"PUT",data:{id:e,table:t,status:a,wood_type:n,first_variety:i,wood_json:r,cid:o}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u5ba1\u6838\u6210\u529f"),window.$pubsub.publish("Cert_refreshCertList"))})},a._changeValue=function(e,t){console.log(t);var n=a.state.woods;n[t].amount=e.target.value,a.setState({woods:n})},a.handleOk=function(){var e=a.state.record,t=a.state.woods;t.map(function(e){delete e.plant_variety_txt}),e.wood_json=JSON.stringify({woodList:t}),a.operateRecord("\u901a\u8fc7",e.cert_type,e),a.setState({imageModal:!1})},a.handleCancel=function(){if(a.state.show_refuse_reason){var e=a.state.record;a.props.form.validateFields(function(t,n){t||(a.operateRecord("\u9a73\u56de",e.cert_type,e,n.refuse_reason),a.setState({imageModal:!1}))})}else a.setState({show_refuse_reason:!0})},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"refuse",value:function(e,t,a,n,i,r){window.$http({url:"/admin/business/invokeCert",method:"PUT",data:{id:e,table:t,status:a,first_variety:n,refuse_reason:i,cid:r}}).then(function(e){e&&0==e.data.code&&(z.a.success("\u9a73\u56de\u6210\u529f"),window.$pubsub.publish("Cert_refreshCertList"))})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=["","\u5f85\u5ba1\u6838","\u5df2\u901a\u8fc7","\u672a\u901a\u8fc7"],n=["",["\u67e5\u770b"],["\u67e5\u770b"],["\u67e5\u770b"]],i=this.state,r=i.loading,s=i.record,l=[{title:"\u5f00\u8bc1\u5355\u7f16\u53f7",dataIndex:"number"},{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"name"},{title:"\u5f00\u8bc1\u7c7b\u578b",dataIndex:"cert_type"},{title:"\u4ea7\u54c1\u79cd\u7c7b",dataIndex:"variety"},{title:"\u5f00\u8bc1\u65f6\u95f4",dataIndex:"create_time"},{title:"\u72b6\u6001",render:function(e,t){return o.a.createElement("span",null,a[t.status])}},{title:"\u64cd\u4f5c",render:function(t,a){return o.a.createElement("span",null,n[a.status].map(function(t,n){return o.a.createElement("a",{key:n,style:{marginLeft:10},onClick:function(){e.operateRecord(t,a.cert_type,a)}},t)}))}}];return o.a.createElement("div",{className:"cert"},o.a.createElement("div",{style:{marginBottom:20}},o.a.createElement(Qe,Object.assign({getList:this.getCertList},this.props.location.params))),o.a.createElement(de.a,{columns:l,dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.number}}),o.a.createElement(G.a,{title:"\u67e5\u770b",visible:this.state.imageModal,maskClosable:!1,destroyOnClose:!0,onCancel:function(){e.setState({imageModal:!1})},footer:1==s.status?[o.a.createElement(me.a,{key:"submit",type:"primary",loading:r,onClick:this.handleOk},"\u901a\u8fc7"),o.a.createElement(me.a,{key:"back",onClick:this.handleCancel},"\u9a73\u56de")]:[]},this.state.imageList.map(function(e,t){return o.a.createElement(Ze,{title:e.title,images:e.images,key:t})}),o.a.createElement(J.a,{className:"detail"},this.state.woods.map(function(t,a){return o.a.createElement("div",{className:"detail-group",key:a},o.a.createElement("div",{className:"name"},"wood_variety_01"==t.wood_variety?"\u539f\u6728\u7c7b":"\u975e\u539f\u6728\u7c7b"),o.a.createElement("div",{className:"name"},t.plant_variety_txt),o.a.createElement(K.a,{size:"small",value:t.amount,type:"number",disabled:1!=s.status,onChange:function(t){return e._changeValue(t,a)}}),o.a.createElement("span",null,"m\xb3"))}),1==s.status&&this.state.show_refuse_reason?o.a.createElement(J.a.Item,{label:"\u9a73\u56de\u539f\u56e0: "},t("refuse_reason",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u9a73\u56de\u539f\u56e0"}]})(o.a.createElement(K.a,{style:{width:300}}))):null)))}}]),t}(r.Component)),Xe=J.a.create()(He),et=(a(500),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={tableData:[],imageModal:!1,images:[],timeList:[],locationList:[],carNumberList:[],windowsList:[],info:{},showInfo:!1,windows:[],show_refuse_reason:!1,first_variety_01:[],first_variety_02:[],plants:{},woods:{},employeeList:[],showEmployeeModel:!1,nowRecord:null,selectEmployeeId:null,showCarNumberModel:!1,choiceCarNumbers:"",loading:!1},a.getPlantCertList=function(e){a.setState({loading:!0}),window.$http({url:"/admin/business/getPlantCertList",method:"GET",params:{status:e.status||"",companyName:e.companyName||"",createTime:e.createTime&&e.createTime.format("YYYY-MM-DD")||""}}).then(function(e){if(e&&0===e.data.code){a.setState({windows:e.data.data.windows}),a.setState({plants:e.data.data.plants}),a.setState({woods:e.data.data.woods});var t=e.data.data.list;t.map(function(e){var t=JSON.parse(e.wood_json).woodList,n=[],i=[],r=a.state.plants,o=a.state.woods,s=e.producing_area.split(",");t.map(function(e,t){e.producing_area=s[t],"first_variety_01"==e.first_variety&&n.push({plants:r[e.plant_variety],amount:e.amount,woods:o[e.wood_variety],producing_area:e.producing_area}),"first_variety_02"==e.first_variety&&i.push({plants:r[e.plant_variety],amount:e.amount,woods:o[e.wood_variety],producing_area:e.producing_area})}),e.first_variety_01=n,e.first_variety_02=i}),a.setState({tableData:t},function(){a.setState({loading:!1})})}else a.setState({loading:!1})})},a.getEmployeeList=function(){window.$http({url:"/admin/system/user/getEmployeeList",method:"GET"}).then(function(e){e&&0===e.data.code&&a.setState({employeeList:e.data.data})})},a.setToEmployee=function(e,t){a.getEmployeeList(),a.setState({showEmployeeModel:!0,nowRecord:t,selectEmployeeId:t.operator_id||null})},a.selectEmployee=function(e){a.setState({selectEmployeeId:e})},a.setEmployee=function(){window.$http({url:"/admin/business/setEmployee",method:"PUT",data:{id:a.state.nowRecord.id,employeeId:a.state.selectEmployeeId}}).then(function(e){if(e&&0==e.data.code){z.a.success("\u5206\u6d3e\u6210\u529f");var t=a.state.tableData||[];t.map(function(e){e.id===a.state.nowRecord.id&&(e.operator_id=a.state.selectEmployeeId)}),a.setState({tableData:t,showEmployeeModel:!1,nowRecord:null,selectEmployeeId:null})}})},a.operateRecord=function(e,t,n){switch(e){case"\u901a\u8fc7":5==t.status?a.invokePlantCert(t.id,2,null,t.cid):a.invokePlantCert(t.id,4,t.wood_json,t.cid,n);break;case"\u9a73\u56de":5==t.status?a.refuse(t.id,-2,n,t.cid):a.refuse(t.id,3,n,t.cid);break;case"\u56de\u7b7e":a.invokePlantCert(t.id,7,null,t.cid);break;case"\u67e5\u770b":a.setState({images:t.picture_url?t.picture_url.split(","):[]}),a.setState({timeList:t.picture_time?t.picture_time.split(","):[]}),a.setState({locationList:t.picture_location?t.picture_location.split(","):[]}),a.setState({carNumberList:t.car_number?t.car_number.split(","):[]}),a.setState({info:t}),a.setState({showInfo:!0});var i=JSON.parse(t.wood_json).woodList,r=[],o=[],s=a.state.plants,l=a.state.woods,c=t.producing_area.split(",");i.map(function(e,t){e.producing_area=c[t],"first_variety_01"==e.first_variety&&r.push({plants:s[e.plant_variety],amount:e.amount,woods:l[e.wood_variety],producing_area:e.producing_area}),"first_variety_02"==e.first_variety&&o.push({plants:s[e.plant_variety],amount:e.amount,woods:l[e.wood_variety],producing_area:e.producing_area})}),a.setState({first_variety_01:r}),a.setState({first_variety_02:o})}},a.settingWindows=function(e,t){window.$http({url:"/admin/business/windowPlantCert",method:"PUT",data:{id:id,status:status,first_variety:first_variety,wood_json:wood_json,cid:cid}}).then(function(e){e&&0==e.data.code&&z.a.success("\u6dfb\u52a0\u6210\u529f")})},a.invokePlantCert=function(e,t,n,i,r){window.$http({url:"/admin/business/invokePlantCert",method:"PUT",data:{id:e,status:t,wood_json:n,cid:i,windows:r}}).then(function(n){n&&0==n.data.code&&(7==t?z.a.success("\u56de\u7b7e\u6210\u529f"):z.a.success("\u5ba1\u6838\u6210\u529f"),a.setState({showInfo:!1},function(){var n=a.state.tableData;n.map(function(a,n){a.id==e&&(a.status=t,r&&(a.windows=r))}),a.setState({tableData:n})}))})},a.refuse=function(e,t,n,i){window.$http({url:"/admin/business/invokePlantCert",method:"PUT",data:{id:e,status:t,refuse_reason:n,cid:i}}).then(function(i){i&&0==i.data.code&&(z.a.success("\u9a73\u56de\u6210\u529f"),a.setState({showInfo:!1},function(){var i=a.state.tableData;i.map(function(a,i){a.id==e&&(a.status=-2==t?4:t,a.refuse_reason=n)}),a.setState({tableData:i})}))})},a.cancelCarNumber=function(e,t){a.setState({showCarNumberModel:!0,nowRecord:t})},a.checkboxChange=function(e){a.setState({choiceCarNumbers:e.join(",")})},a.handleCancel=function(){a.state.show_refuse_reason?a.props.form.validateFields(function(e,t){e||a.operateRecord("\u9a73\u56de",a.state.info,t.refuse_reason)}):a.setState({show_refuse_reason:!0})},a.handleOk=function(){a.state.show_refuse_reason?a.setState({show_refuse_reason:!1}):a.props.form.validateFields(function(e,t){e||a.operateRecord("\u901a\u8fc7",a.state.info,t.windows)})},a.imgHandleOk=function(){a.state.show_refuse_reason?a.setState({show_refuse_reason:!1}):a.props.form.validateFields(function(e,t){e||a.operateRecord("\u901a\u8fc7",a.state.info)})},a.signBack=function(){a.operateRecord("\u56de\u7b7e",a.state.info)},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"setCarNumberCancel",value:function(){var e=this;window.$http({url:"/admin/business/setCarNumberCancel",method:"PUT",data:{id:this.state.nowRecord.id,choiceCarNumbers:this.state.choiceCarNumbers}}).then(function(t){if(t&&0==t.data.code){z.a.success("\u4f5c\u5e9f\u64cd\u4f5c\u6210\u529f");var a=e.state.tableData||[];a.map(function(t){if(t.id===e.state.nowRecord.id){var a=[],n=t.car_number.split(","),i=e.state.choiceCarNumbers.split(",");n.map(function(e){-1===i.indexOf(e)&&a.push(e)}),t.car_number=a.join(","),t.car_amount=a.length,a.length||(t.status=3);var r,o=JSON.parse(t.wood_json).woodList,s=o[0];r=Number(s.amount)/n.length*i.length,s.amount=Math.round(100*(Number(s.amount)-r))/100,t.wood_json=JSON.stringify({woodList:o});var l=[],c=[],m=e.state.plants,d=e.state.woods,u=t.producing_area.split(",");o.map(function(e,t){e.producing_area=u[t],"first_variety_01"==e.first_variety&&l.push({plants:m[e.plant_variety],amount:e.amount,woods:d[e.wood_variety],producing_area:e.producing_area}),"first_variety_02"==e.first_variety&&c.push({plants:m[e.plant_variety],amount:e.amount,woods:d[e.wood_variety],producing_area:e.producing_area})}),t.first_variety_01=l,t.first_variety_02=c}}),e.setState({tableData:a,showCarNumberModel:!1,nowRecord:null,choiceCarNumbers:null})}})}},{key:"selChange",value:function(){}},{key:"getRole",value:function(){var e=[],t=window.$session.get("user")||{};return t.role&&t.role.map(function(t){e.push(t.id)}),e}},{key:"render",value:function(){var e=this,t=this.state.info,a=this.state.info.status,n=this.props.form.getFieldDecorator,i=["","\u5f85\u5ba1\u6838","\u5df2\u901a\u8fc7","\u672a\u901a\u8fc7","\u5f85\u4e0a\u4f20\u7167\u7247","\u5f85\u5ba1\u6838\u7167\u7247","\u5f85\u56de\u7b7e","\u5df2\u56de\u7b7e"],r=je.a.Option,s=[{title:"\u7533\u8bf7\u7f16\u53f7",dataIndex:"number",width:150,fixed:"left"},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"create_time"},{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"name"},{title:"\u76ee\u7684\u5730",dataIndex:"receive_address"},{title:"\u6536\u8d27\u5355\u4f4d\uff08\u4e2a\u4eba\uff09",dataIndex:"receive_person"},{title:"\u6728\u6750\u54c1\u79cd",render:function(e,t){return o.a.createElement("div",{className:"info table-info"},t.first_variety_01.length>0?o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},"\u539f\u6728\u7c7b"),t.first_variety_01.map(function(e,t){return o.a.createElement("div",{className:"item",key:t},o.a.createElement("div",{className:"name"},e.producing_area),o.a.createElement("div",{className:"name"},e.plants),o.a.createElement("div",{className:"num"},e.amount))})):null,t.first_variety_02.length>0?o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},"\u975e\u539f\u6728\u7c7b"),t.first_variety_02.map(function(e,t){return o.a.createElement("div",{className:"item",key:t},o.a.createElement("div",{className:"name"},e.producing_area),o.a.createElement("div",{className:"name"},e.woods),o.a.createElement("div",{className:"name"},e.plants),o.a.createElement("div",{className:"num"},e.amount))})):null)}},{title:"\u8f66\u724c\u53f7",dataIndex:"car_number"},{title:"\u72b6\u6001",render:function(e,t){return o.a.createElement("span",null,i[t.status])}},{title:"\u64cd\u4f5c",fixed:"right",width:150,render:function(t,a){return o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"5px"},onClick:function(t){e.operateRecord("\u67e5\u770b",a)}},"\u67e5\u770b")),o.a.createElement("span",null,e.getRole().indexOf(1)>-1||e.getRole().indexOf(2)>-1?o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"5px"},onClick:function(t){e.setToEmployee("\u5206\u6d3e\u5230\u4e1a\u52a1\u5458",a)}},"undefined"!==typeof a.operator_id&&""!=a.operator_id&&null!==a.operator_id?"\u5df2\u5206\u6d3e":"\u5206\u6d3e"):""),o.a.createElement("span",null,4==a.status&&1==JSON.parse(a.wood_json).woodList.length&&2==a.version?o.a.createElement("a",{href:"javascript: void(0);",style:{marginRight:"5px"},onClick:function(t){e.cancelCarNumber("\u4f5c\u5e9f",a)}},"\u4f5c\u5e9f"):""))}}];return o.a.createElement("div",{className:"plant-cert"},o.a.createElement("div",{style:{marginBottom:20}},o.a.createElement(Qe,Object.assign({getList:this.getPlantCertList},this.props.location.params,{type:"plantCert"}))),o.a.createElement(de.a,{columns:s,dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},loading:this.state.loading,bordered:!0,rowKey:function(e){return e.number}}),o.a.createElement(G.a,{title:"\u5206\u6d3e\u4e1a\u52a1\u5458",destroyOnClose:!0,visible:this.state.showEmployeeModel,maskClosable:!1,onCancel:function(){e.setState({showEmployeeModel:!1})},onOk:function(){e.setEmployee()}},o.a.createElement(je.a,{showSearch:!0,style:{width:200},placeholder:"\u9009\u62e9\u4e1a\u52a1\u5458",defaultValue:this.state.nowRecord&&this.state.nowRecord.operator_id,onChange:function(t){e.selectEmployee(t)},optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.employeeList.map(function(e,t){return o.a.createElement(r,{value:e.id,key:t},e.username)}))),o.a.createElement(G.a,{title:"\u4f5c\u5e9f\u8f66\u724c\u53f7",destroyOnClose:!0,visible:this.state.showCarNumberModel,maskClosable:!1,onCancel:function(){e.setState({showCarNumberModel:!1})},onOk:function(){e.setCarNumberCancel()}},o.a.createElement(pe.a.Group,{style:{width:"100%"},onChange:function(t){return e.checkboxChange(t)}},o.a.createElement(ie.a,null,this.state.nowRecord&&this.state.nowRecord.car_number.split(",").map(function(e,t){return o.a.createElement(re.a,{span:8,key:t},o.a.createElement(pe.a,{value:e},e))})))),o.a.createElement(G.a,{title:"\u67e5\u770b",visible:this.state.showInfo,maskClosable:!1,width:1e3,onCancel:function(){e.setState({showInfo:!1})},footer:5==a?[o.a.createElement(me.a,{key:"submit",type:"primary",onClick:this.imgHandleOk},"\u901a\u8fc7"),o.a.createElement(me.a,{key:"back",onClick:this.handleCancel},"\u9a73\u56de")]:6==a?[o.a.createElement(me.a,{key:"signBack",type:"primary",onClick:this.signBack},"\u56de\u7b7e")]:null},o.a.createElement(J.a,null,o.a.createElement("div",{className:"info"},o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"item"},"\u516c\u53f8: ",t.name),o.a.createElement("div",{className:"item"},"\u4fe1\u7528\u4ee3\u7801\uff1a ",t.code),o.a.createElement("div",{className:"item"},"\u5355\u4f4d\u8d1f\u8d23\u4eba\uff08\u627f\u529e\u4eba\uff09\u59d3\u540d: ",t.header_name),o.a.createElement("div",{className:"item"},"\u8eab\u4efd\u8bc1\uff1a ",t.header_identity),o.a.createElement("div",{className:"item"},"\u8054\u7cfb\u7535\u8bdd: ",t.header_phone)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},"\u539f\u6728\u7c7b"),this.state.first_variety_01.map(function(e,t){return o.a.createElement("div",{className:"item",key:t},o.a.createElement("div",{className:"name"},e.producing_area),o.a.createElement("div",{className:"name"},e.plants),o.a.createElement("div",{className:"num"},e.amount))})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},"\u975e\u539f\u6728\u7c7b"),this.state.first_variety_02.map(function(e,t){return o.a.createElement("div",{className:"item",key:t},o.a.createElement("div",{className:"name"},e.producing_area),o.a.createElement("div",{className:"name"},e.woods),o.a.createElement("div",{className:"name"},e.plants),o.a.createElement("div",{className:"num"},e.amount))})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},"\u8fd0\u8f93\u4fe1\u606f"),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u8f66\u8239\u6570"),o.a.createElement("div",{className:"num"},t.car_amount," \u8f86"),o.a.createElement("div",{className:"num"},t.every_car_amount," m\xb3/\u8f66")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u5305\u88c5\u65b9\u5f0f"),o.a.createElement("div",{className:"num"},t.packaging," ")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u89c4\u683c"),o.a.createElement("div",{className:"num"},t.standard," "))),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},"\u6536\u8d27\u4fe1\u606f"),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u6536\u8d27\u5355\u4f4d\uff08\u4e2a\u4eba\uff09"),o.a.createElement("div",{className:"num"},t.receive_person)),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u6536\u8d27\u5355\u4f4d\u8be6\u7ec6\u5730\u5740"),o.a.createElement("div",{className:"num"},t.receive_address)),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u6536\u8d27\u5355\u4f4d\u4e2a\u4eba\uff08\u7535\u8bdd\uff09"),o.a.createElement("div",{className:"num"},t.phone," ")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u6536\u8d27\u8054\u7cfb\u4eba\u8eab\u4efd\u8bc1\u53f7\u7801"),o.a.createElement("div",{className:"num"},t.person_id," ")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u65e5\u671f"),o.a.createElement("div",{className:"num"},t.date_time," ")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u7533\u8bf7\u4eba"),o.a.createElement("div",{className:"num"},t.apply_person," ")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u627f\u8fd0\u4eba"),o.a.createElement("div",{className:"num"},t.transport_person," ")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u76f8\u5e94\u7684\u62a5\u68c0\u5355\u53f7"),o.a.createElement("div",{className:"num"},t.report_number," ")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"name"},"\u9886\u53d6\u7a97\u53e3\u53f7"),o.a.createElement("div",{className:"num"},t.windows||""," ")))),this.state.show_refuse_reason||1!=a?null:o.a.createElement(J.a.Item,{label:"\u9886\u8bc1\u7a97\u53e3: "},n("windows",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9886\u8bc1\u7a97\u53e3"}]})(o.a.createElement(je.a,{showSearch:!0,style:{width:200},placeholder:"\u9009\u62e9\u9886\u8bc1\u7a97\u53e3",optionFilterProp:"children",onChange:this.selChange,onSearch:this.onSearch,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.windows.map(function(e,t){return o.a.createElement(r,{value:e.key,key:t},e.value)})))),this.state.show_refuse_reason&&1==a?o.a.createElement(J.a.Item,{label:"\u9a73\u56de\u539f\u56e0: "},n("refuse_reason",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u9a73\u56de\u539f\u56e0"}]})(o.a.createElement(K.a,{style:{width:300}}))):null,1==a?o.a.createElement("div",{style:{textAlign:"right"}},o.a.createElement(me.a,{key:"submit",type:"primary",onClick:this.handleOk},"\u901a\u8fc7"),o.a.createElement(me.a,{key:"back",onClick:this.handleCancel,style:{marginLeft:8}},"\u9a73\u56de")):null,o.a.createElement("div",{className:"img-box"},o.a.createElement(Ze,{title:"\u88c5\u8f66\u56fe\u7247",images:this.state.images,timeList:this.state.timeList,locationList:this.state.locationList,carNumberList:this.state.carNumberList,version:t.version,type:"plantCert"}),this.state.show_refuse_reason&&5==a?o.a.createElement(J.a.Item,{label:"\u9a73\u56de\u539f\u56e0: "},n("refuse_reason",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u9a73\u56de\u539f\u56e0"}]})(o.a.createElement(K.a,{style:{width:300}}))):null))),o.a.createElement(G.a,{title:"\u67e5\u770b",visible:this.state.imageModal,maskClosable:!1,footer:null,destroyOnClose:!0,onCancel:function(){e.setState({imageModal:!1})}},o.a.createElement(Ze,{title:"\u88c5\u8f66\u56fe\u7247",images:this.state.images,timeList:this.state.timeList,locationList:this.state.locationList})))}}]),t}(r.Component)),tt=J.a.create()(et),at=(a(502),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={tableData:[]},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"check"},o.a.createElement(de.a,{columns:[{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"1"},{title:"\u68c0\u67e5\u65e5\u671f",dataIndex:"2"},{title:"\u68c0\u67e5\u4eba\u6570",dataIndex:"3"},{title:"\u4ed3\u50a8\u5730\u70b9",dataIndex:"4"},{title:"\u53f0\u952f\u6570",dataIndex:"5"},{title:"\u68c0\u67e5\u5730\u70b9",dataIndex:"6"},{title:"\u8f66\u8f86\u6570\u91cf",dataIndex:"7"},{title:"\u8f66\u724c",dataIndex:"8"},{title:"\u56fe\u7247",dataIndex:"9"},{title:"\u5907\u6ce8",dataIndex:"10"}],dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.id}}))}}]),t}(r.Component)),nt=(a(504),{Home:ce,User:fe,Role:ge,File:we,Basic:Ce,Version:Oe,Plants:_e,CompanyInfo:xe,CompanyDetail:Le,CompanyInventory:ze,InventoryDetail:Je,Cert:Xe,PlantCert:tt,Check:at,Quarantine:function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={tableData:[]},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"quarantine"},o.a.createElement(de.a,{columns:[{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"1"},{title:"\u68c0\u67e5\u65e5\u671f",dataIndex:"2"},{title:"\u6728\u6750\u54c1\u79cd",dataIndex:"3"},{title:"\u6765\u6e90",dataIndex:"4"},{title:"\u8fdb\u53e3\u62a5\u68c0\u53f7",dataIndex:"5"},{title:"\u62bd\u68c0\u6570\u91cf",dataIndex:"6"},{title:"\u73b0\u573a\u68c0\u75ab",dataIndex:"7"},{title:"\u56fe\u7247",dataIndex:"8"}],dataSource:this.state.tableData,pagination:{pageSizeOptions:["10","20","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},bordered:!0,rowKey:function(e){return e.id}}))}}]),t}(r.Component)}),it=function(e){function t(){return Object(I.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return o.a.createElement(k.a,null,Object.keys(A).map(function(e){var t=function(e){var t=nt[e.component];return o.a.createElement(S.a,{exact:!0,key:e.key,path:e.key,component:t})};return A[e].component?t(A[e]):A[e].subs.map(function(e){return t(e)})}),o.a.createElement(S.a,{render:function(){return o.a.createElement(O.a,{to:"/app/home/index"})}}))}}]),t}(r.Component),rt=a(581),ot=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).state={path:{}},a.findTitleByPath=function(){var e=a.props.location.pathname;for(var t in A){if(A[t].key==e)return{first:A[t].title,second:null};if(A[t].subs){var n=!0,i=!1,r=void 0;try{for(var o,s=A[t].subs[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(l.key==e)return{first:A[t].title,second:l.title}}}catch(c){i=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}}},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return o.a.createElement(rt.a,{separator:">"},o.a.createElement(rt.a.Item,null,this.findTitleByPath()&&this.findTitleByPath().first),o.a.createElement(rt.a.Item,null,this.findTitleByPath()&&this.findTitleByPath().second))}}]),t}(r.Component),st=Object(D.a)(ot),lt=(a(506),M.a.Header),ct=M.a.Sider,mt=M.a.Content,dt=function(e){function t(){return Object(I.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){window.$session.get("user")||this.props.history.push("/login")}},{key:"render",value:function(){return window.$session.get("user")?o.a.createElement("div",{className:"app"},o.a.createElement(M.a,null,o.a.createElement(lt,{style:{background:"#FFF",height:49,paddingLeft:20}},o.a.createElement(te,null)),o.a.createElement(M.a,null,o.a.createElement(ct,{style:{height:"calc(100vh - 49px)",overflow:"auto"}},o.a.createElement($,null)),o.a.createElement(M.a,null,o.a.createElement(lt,{style:{background:"#f0f2f5",height:20,paddingLeft:20,marginTop:15}},o.a.createElement(st,null)),o.a.createElement(mt,{className:"app-content",style:{marginTop:15,marginBottom:15}},o.a.createElement(it,null)))))):null}}]),t}(r.Component),ut=(a(508),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).submit=function(){a.props.form.validateFields(function(){var e=Object(V.a)(U.a.mark(function e(t,n){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,window.$service.login(n);case 3:return e.next=5,window.$service.getMenu();case 5:a.props.history.push("/");case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a}return Object(x.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){window.$session.get("user")&&this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement("div",{className:"login"},o.a.createElement("div",{className:"login-content"},o.a.createElement("h1",{className:"login-title"},"\u6797\u4e1a\u6709\u5bb3\u751f\u7269\u68c0\u75ab\u4fe1\u606f\u7ba1\u7406\u7cfb\u7edf"),o.a.createElement(J.a,{className:"login-form"},o.a.createElement(J.a.Item,null,e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(o.a.createElement(K.a,{size:"large",prefix:o.a.createElement(L.a,{type:"user"}),placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}))),o.a.createElement(J.a.Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(o.a.createElement(K.a,{size:"large",prefix:o.a.createElement(L.a,{type:"lock"}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),o.a.createElement(J.a.Item,null,o.a.createElement(me.a,{block:!0,type:"primary",size:"large",onClick:this.submit},"\u767b\u9646")))))}}]),t}(r.Component)),pt=J.a.create()(ut),ht=a(57),ft=a(245),yt=a(246),gt=Object(ht.combineReducers)({company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_company":return t.data;default:return e}}}),Et=Object(ht.createStore)(gt,Object(yt.composeWithDevTools)(Object(ht.applyMiddleware)(ft.a))),vt=a(251);function wt(e){return new Promise(function(t){window.$http({url:"/admin/auth/login",method:"POST",data:e}).then(function(e){e&&0==e.data.code&&(window.$session.set("user",e.data.data),t())})})}function bt(){return new Promise(function(e){window.$http({url:"/admin/auth/logout",method:"GET"}).then(function(t){t&&0==t.data.code&&(window.$session.del("user"),window.$session.del("menu"),z.a.success("\u9000\u51fa\u6210\u529f"),e())})})}function Ct(){return new Promise(function(e){window.$http({url:"/admin/menu/getMenu",method:"GET"}).then(function(t){t&&0==t.data.code&&(window.$session.set("menu",t.data.data),e())})})}var kt=Object(vt.a)({},n,i),St=a(510),Ot="16BytesLengthKey",It="A-16-Byte-String";function _t(e){if(e){var t=St.enc.Latin1.parse(Ot),a=St.enc.Latin1.parse(It),n=St.enc.Utf8.parse(e),i=St.AES.encrypt(n,t,{iv:a,mode:St.mode.CBC,padding:St.pad.Pkcs7});return i&&i.toString()}}var jt={get:function(e){return window.sessionStorage.getItem(_t(e))?JSON.parse(function(e){if(e){var t=St.enc.Latin1.parse(Ot),a=St.enc.Latin1.parse(It),n=St.AES.decrypt(e.toString(),t,{iv:a,mode:St.mode.CBC,padding:St.pad.Pkcs7}),i=n&&n.toString(St.enc.Utf8);return i&&i.toString()}}(window.sessionStorage.getItem(_t(e)))):null},set:function(e,t){window.sessionStorage.setItem(_t(e),_t(JSON.stringify(t)))},del:function(e){window.sessionStorage.removeItem(_t(e))}},Nt=a(247),xt=a.n(Nt).a.create({timeout:1e4,headers:{"Cache-Control":"no-cache"}});xt.interceptors.response.use(function(e){return e.data.code&&4==e.data.code?G.a.warning({title:"\u63d0\u793a",content:"\u5df2\u8d85\u65f6\uff0c\u8bf7\u91cd\u65b0\u767b\u9646",onOk:function(){window.$session.del("user"),window.$session.del("menu"),window.location.reload()}}):200!=e.status?(console.warn(e.config.url,"http not 200"),z.a.error("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")):e.data.code&&0!=e.data.code&&(console.warn(e.config.url,e.data.message),z.a.error(e.data.message)),e},function(e){console.warn("http status err: ",e),z.a.error("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")});var Mt=xt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(552),a(554);b.a.locale("zh-cn"),window.$http=Mt,window.$cookie=m.a,window.$service=kt,window.$session=jt,window.$querystring=u.a,window.$pubsub=h.a,l.a.render(o.a.createElement(g.AppContainer,null,o.a.createElement(f.a,{store:Et},o.a.createElement(y.a,{locale:v.a},o.a.createElement(function(){return o.a.createElement(C.a,null,o.a.createElement(k.a,null,o.a.createElement(S.a,{path:"/app",component:dt}),o.a.createElement(S.a,{path:"/login",component:pt}),o.a.createElement(O.a,{to:"/app/home/index"})))},null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[254,2,1]]]);